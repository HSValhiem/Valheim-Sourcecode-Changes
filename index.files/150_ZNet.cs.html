<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>WinMerge File Compare Report</title>
<style>
<!--
table { table-layout: fixed; margin: 0; border: 1px solid #a0a0a0; box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.15); }
th { position: sticky; top: 0; }
td,th { word-break: break-all; font-size: 12pt; padding: 0 3px; }
tr { vertical-align: top; }
.title { font-weight: bold; color: white; background-color: blue; vertical-align: top; text-align: center; padding: 4px 4px; background: linear-gradient(mediumblue, darkblue);}
.sf3b2 {color: #000000; background-color: #ffffff; }
.sf3b5 {color: #000000; background-color: #0078d7; }
.sf3b14 {color: #000000; background-color: #ffa0a0; }
.sf3b16 {color: #000000; background-color: #f1e2ad; }
.sf3b18 {color: #000000; background-color: #ffaa82; }
.sf3b19 {color: #000000; background-color: #c8816c; }
.sf6b2 {color: #ffffff; background-color: #ffffff; }
.sf6b5 {color: #ffffff; background-color: #0078d7; }
.sf6b14 {color: #ffffff; background-color: #ffa0a0; }
.sf6b16 {color: #ffffff; background-color: #f1e2ad; }
.sf6b18 {color: #ffffff; background-color: #ffaa82; }
.sf6b19 {color: #ffffff; background-color: #c8816c; }
.sf7b2 {color: #0000ff; background-color: #ffffff; font-weight: bold; }
.sf7b5 {color: #0000ff; background-color: #0078d7; font-weight: bold; }
.sf7b14 {color: #0000ff; background-color: #ffa0a0; font-weight: bold; }
.sf7b16 {color: #0000ff; background-color: #f1e2ad; font-weight: bold; }
.sf7b18 {color: #0000ff; background-color: #ffaa82; font-weight: bold; }
.sf7b19 {color: #0000ff; background-color: #c8816c; font-weight: bold; }
.sf8b2 {color: #800080; background-color: #ffffff; }
.sf8b5 {color: #800080; background-color: #0078d7; }
.sf8b14 {color: #800080; background-color: #ffa0a0; }
.sf8b16 {color: #800080; background-color: #f1e2ad; }
.sf8b18 {color: #800080; background-color: #ffaa82; }
.sf8b19 {color: #800080; background-color: #c8816c; }
.sf9b2 {color: #008000; background-color: #ffffff; }
.sf9b5 {color: #008000; background-color: #0078d7; }
.sf9b14 {color: #008000; background-color: #ffa0a0; }
.sf9b16 {color: #008000; background-color: #f1e2ad; }
.sf9b18 {color: #008000; background-color: #ffaa82; }
.sf9b19 {color: #008000; background-color: #c8816c; }
.sf10b2 {color: #ff0000; background-color: #ffffff; }
.sf10b5 {color: #ff0000; background-color: #0078d7; }
.sf10b14 {color: #ff0000; background-color: #ffa0a0; }
.sf10b16 {color: #ff0000; background-color: #f1e2ad; }
.sf10b18 {color: #ff0000; background-color: #ffaa82; }
.sf10b19 {color: #ff0000; background-color: #c8816c; }
.sf11b2 {color: #606060; background-color: #ffffff; }
.sf11b5 {color: #606060; background-color: #0078d7; }
.sf11b14 {color: #606060; background-color: #ffa0a0; }
.sf11b16 {color: #606060; background-color: #f1e2ad; }
.sf11b18 {color: #606060; background-color: #ffaa82; }
.sf11b19 {color: #606060; background-color: #c8816c; }
.sf12b2 {color: #800000; background-color: #ffffff; }
.sf12b5 {color: #800000; background-color: #0078d7; }
.sf12b14 {color: #800000; background-color: #ffa0a0; }
.sf12b16 {color: #800000; background-color: #f1e2ad; }
.sf12b18 {color: #800000; background-color: #ffaa82; }
.sf12b19 {color: #800000; background-color: #c8816c; }
.sf13b2 {color: #0080c0; background-color: #ffffff; }
.sf13b5 {color: #0080c0; background-color: #0078d7; }
.sf13b14 {color: #0080c0; background-color: #ffa0a0; }
.sf13b16 {color: #0080c0; background-color: #f1e2ad; }
.sf13b18 {color: #0080c0; background-color: #ffaa82; }
.sf13b19 {color: #0080c0; background-color: #c8816c; }
.sf15b2 {color: #000000; background-color: #ffffff; }
.sf15b5 {color: #000000; background-color: #0078d7; }
.sf15b14 {color: #000000; background-color: #ffa0a0; }
.sf15b16 {color: #000000; background-color: #f1e2ad; }
.sf15b18 {color: #000000; background-color: #ffaa82; }
.sf15b19 {color: #000000; background-color: #c8816c; }
.sf17b2 {color: #000000; background-color: #ffffff; }
.sf17b5 {color: #000000; background-color: #0078d7; }
.sf17b14 {color: #000000; background-color: #ffa0a0; }
.sf17b16 {color: #000000; background-color: #f1e2ad; }
.sf17b18 {color: #000000; background-color: #ffaa82; }
.sf17b19 {color: #000000; background-color: #c8816c; }
.sf20b2 {color: #000080; background-color: #ffffff; }
.sf20b5 {color: #000080; background-color: #0078d7; }
.sf20b14 {color: #000080; background-color: #ffa0a0; }
.sf20b16 {color: #000080; background-color: #f1e2ad; }
.sf20b18 {color: #000080; background-color: #ffaa82; }
.sf20b19 {color: #000080; background-color: #c8816c; }
.sf21b2 {color: #0080c0; background-color: #ffffff; }
.sf21b5 {color: #0080c0; background-color: #0078d7; }
.sf21b14 {color: #0080c0; background-color: #ffa0a0; }
.sf21b16 {color: #0080c0; background-color: #f1e2ad; }
.sf21b18 {color: #0080c0; background-color: #ffaa82; }
.sf21b19 {color: #0080c0; background-color: #c8816c; }
.sf3b2i {color: #ababab; background-color: #ffffff; }
.sf3b5i {color: #005190; background-color: #0078d7; }
.sf3b14i {color: #ab6b6b; background-color: #ffa0a0; }
.sf3b16i {color: #a19774; background-color: #f1e2ad; }
.sf3b18i {color: #ab7257; background-color: #ffaa82; }
.sf3b19i {color: #865749; background-color: #c8816c; }
.sf6b2i {color: #ffffff; background-color: #ffffff; }
.sf6b5i {color: #54a4e4; background-color: #0078d7; }
.sf6b14i {color: #ffbfbf; background-color: #ffa0a0; }
.sf6b16i {color: #f5ebc8; background-color: #f1e2ad; }
.sf6b18i {color: #ffc6ab; background-color: #ffaa82; }
.sf6b19i {color: #daaa9c; background-color: #c8816c; }
.sf7b2i {color: #ababff; background-color: #ffffff; font-weight: bold; }
.sf7b5i {color: #0051e4; background-color: #0078d7; font-weight: bold; }
.sf7b14i {color: #ab6bbf; background-color: #ffa0a0; font-weight: bold; }
.sf7b16i {color: #a197c8; background-color: #f1e2ad; font-weight: bold; }
.sf7b18i {color: #ab72ab; background-color: #ffaa82; font-weight: bold; }
.sf7b19i {color: #86579c; background-color: #c8816c; font-weight: bold; }
.sf8b2i {color: #d5abd5; background-color: #ffffff; }
.sf8b5i {color: #2a51bb; background-color: #0078d7; }
.sf8b14i {color: #d56b96; background-color: #ffa0a0; }
.sf8b16i {color: #cc979f; background-color: #f1e2ad; }
.sf8b18i {color: #d57282; background-color: #ffaa82; }
.sf8b19i {color: #b15772; background-color: #c8816c; }
.sf9b2i {color: #abd5ab; background-color: #ffffff; }
.sf9b5i {color: #007a90; background-color: #0078d7; }
.sf9b14i {color: #ab966b; background-color: #ffa0a0; }
.sf9b16i {color: #a1c274; background-color: #f1e2ad; }
.sf9b18i {color: #ab9d57; background-color: #ffaa82; }
.sf9b19i {color: #868149; background-color: #c8816c; }
.sf10b2i {color: #ffabab; background-color: #ffffff; }
.sf10b5i {color: #545190; background-color: #0078d7; }
.sf10b14i {color: #ff6b6b; background-color: #ffa0a0; }
.sf10b16i {color: #f59774; background-color: #f1e2ad; }
.sf10b18i {color: #ff7257; background-color: #ffaa82; }
.sf10b19i {color: #da5749; background-color: #c8816c; }
.sf11b2i {color: #cbcbcb; background-color: #ffffff; }
.sf11b5i {color: #1f71b0; background-color: #0078d7; }
.sf11b14i {color: #cb8b8b; background-color: #ffa0a0; }
.sf11b16i {color: #c1b794; background-color: #f1e2ad; }
.sf11b18i {color: #cb9277; background-color: #ffaa82; }
.sf11b19i {color: #a67769; background-color: #c8816c; }
.sf12b2i {color: #d5abab; background-color: #ffffff; }
.sf12b5i {color: #2a5190; background-color: #0078d7; }
.sf12b14i {color: #d56b6b; background-color: #ffa0a0; }
.sf12b16i {color: #cc9774; background-color: #f1e2ad; }
.sf12b18i {color: #d57257; background-color: #ffaa82; }
.sf12b19i {color: #b15749; background-color: #c8816c; }
.sf13b2i {color: #abd5eb; background-color: #ffffff; }
.sf13b5i {color: #007ad0; background-color: #0078d7; }
.sf13b14i {color: #ab96aa; background-color: #ffa0a0; }
.sf13b16i {color: #a1c2b3; background-color: #f1e2ad; }
.sf13b18i {color: #ab9d96; background-color: #ffaa82; }
.sf13b19i {color: #868187; background-color: #c8816c; }
.sf15b2i {color: #ababab; background-color: #ffffff; }
.sf15b5i {color: #005190; background-color: #0078d7; }
.sf15b14i {color: #ab6b6b; background-color: #ffa0a0; }
.sf15b16i {color: #a19774; background-color: #f1e2ad; }
.sf15b18i {color: #ab7257; background-color: #ffaa82; }
.sf15b19i {color: #865749; background-color: #c8816c; }
.sf17b2i {color: #ababab; background-color: #ffffff; }
.sf17b5i {color: #005190; background-color: #0078d7; }
.sf17b14i {color: #ab6b6b; background-color: #ffa0a0; }
.sf17b16i {color: #a19774; background-color: #f1e2ad; }
.sf17b18i {color: #ab7257; background-color: #ffaa82; }
.sf17b19i {color: #865749; background-color: #c8816c; }
.sf20b2i {color: #ababd5; background-color: #ffffff; }
.sf20b5i {color: #0051bb; background-color: #0078d7; }
.sf20b14i {color: #ab6b96; background-color: #ffa0a0; }
.sf20b16i {color: #a1979f; background-color: #f1e2ad; }
.sf20b18i {color: #ab7282; background-color: #ffaa82; }
.sf20b19i {color: #865772; background-color: #c8816c; }
.sf21b2i {color: #abd5eb; background-color: #ffffff; }
.sf21b5i {color: #007ad0; background-color: #0078d7; }
.sf21b14i {color: #ab96aa; background-color: #ffa0a0; }
.sf21b16i {color: #a1c2b3; background-color: #f1e2ad; }
.sf21b18i {color: #ab9d96; background-color: #ffaa82; }
.sf21b19i {color: #868187; background-color: #c8816c; }
.cn {text-align: center; word-break: normal; color: #000000; background-color: #f0f0f0;}
.ln {text-align: right; word-break: normal; color: #000000; background-color: #f0f0f0;}
-->
</style>
</head>
<body>
<table style="width: 100%%; border-collapse: collapse;">
<colgroup>
<col style="width: 0.5em;" />
<col style="width: calc(100% / 2 - 0.5em);" />
<col style="width: 0.5em;" />
<col style="width: calc(100% / 2 - 0.5em);" />
</colgroup>
<thead>
<tr>
<th colspan="2" class="title">D:\ValheimDev\Dumps\Old\assembly_valheim\ZNet.cs</th>
<th colspan="2" class="title">D:\ValheimDev\Dumps\Latest\assembly_valheim\ZNet.cs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Collections</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Collections</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Collections</span><span class="sf11b2">.</span><span class="sf3b2">Generic</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Collections</span><span class="sf11b2">.</span><span class="sf3b2">Generic</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">IO</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">IO</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Linq</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Linq</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Net</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Net</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Net</span><span class="sf11b2">.</span><span class="sf3b2">Sockets</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Net</span><span class="sf11b2">.</span><span class="sf3b2">Sockets</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Runtime</span><span class="sf11b2">.</span><span class="sf3b2">CompilerServices</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Runtime</span><span class="sf11b2">.</span><span class="sf3b2">CompilerServices</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Security</span><span class="sf11b2">.</span><span class="sf3b2">Cryptography</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Security</span><span class="sf11b2">.</span><span class="sf3b2">Cryptography</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Text</span><span class="sf11b2">.</span><span class="sf3b2">RegularExpressions</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Text</span><span class="sf11b2">.</span><span class="sf3b2">RegularExpressions</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Threading</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Threading</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">GUIFramework</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">GUIFramework</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Steamworks</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Steamworks</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityEngine</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityEngine</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityEngine</span><span class="sf11b2">.</span><span class="sf3b2">Events</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityEngine</span><span class="sf11b2">.</span><span class="sf3b2">Events</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityEngine</span><span class="sf11b2">.</span><span class="sf3b2">Rendering</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityEngine</span><span class="sf11b2">.</span><span class="sf3b2">Rendering</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UserManagement</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">using</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UserManagement</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">class</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">MonoBehaviour</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">class</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">MonoBehaviour</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">{</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">{</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">instance</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">instance</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Awake</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Awake</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZRoutedRpc</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZRoutedRpc</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZDOMan</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoSectorsWidth</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZDOMan</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoSectorsWidth</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetAct<wbr>ive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetAct<wbr>ive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">WorldGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Deitialize</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">WorldGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Deitialize</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SteamManager</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SteamManager</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">personaName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">SteamFriends</span><span class="sf11b2">.</span><span class="sf8b2">GetPersonaName</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">personaName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">SteamFriends</span><span class="sf11b2">.</span><span class="sf8b2">GetPersonaName</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Steam initialized, persona:"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">personaName</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Steam initialized, persona:"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">personaName</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_i<wbr>sServer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_i<wbr>sServer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups_short<wbr>"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups_short<wbr>"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups_long"<wbr></span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups_long"<wbr></span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SyncedList</span><span class="sf11b2">(</span><span class="sf3b2">Utils</span><span class="sf11b2">.</span><span class="sf8b2">GetSaveDataPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHe<wbr>lpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">) + </span><span class="sf12b2">"/adminlist.txt"</span><span class="sf11b2">, </span><span class="sf12b2">"List admin players ID &nbsp;ONE per line"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SyncedList</span><span class="sf11b2">(</span><span class="sf3b2">Utils</span><span class="sf11b2">.</span><span class="sf8b2">GetSaveDataPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHe<wbr>lpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">) + </span><span class="sf12b2">"/adminlist.txt"</span><span class="sf11b2">, </span><span class="sf12b2">"List admin players ID &nbsp;ONE per line"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SyncedList</span><span class="sf11b2">(</span><span class="sf3b2">Utils</span><span class="sf11b2">.</span><span class="sf8b2">GetSaveDataPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHe<wbr>lpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">) + </span><span class="sf12b2">"/bannedlist.txt"</span><span class="sf11b2">, </span><span class="sf12b2">"List banned players ID &nbsp;ONE per line"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SyncedList</span><span class="sf11b2">(</span><span class="sf3b2">Utils</span><span class="sf11b2">.</span><span class="sf8b2">GetSaveDataPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHe<wbr>lpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">) + </span><span class="sf12b2">"/bannedlist.txt"</span><span class="sf11b2">, </span><span class="sf12b2">"List banned players ID &nbsp;ONE per line"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SyncedList</span><span class="sf11b2">(</span><span class="sf3b2">Utils</span><span class="sf11b2">.</span><span class="sf8b2">GetSaveDataPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHe<wbr>lpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">) + </span><span class="sf12b2">"/permittedlist.txt"</span><span class="sf11b2">, </span><span class="sf12b2">"List permitted players ID ONE per line"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SyncedList</span><span class="sf11b2">(</span><span class="sf3b2">Utils</span><span class="sf11b2">.</span><span class="sf8b2">GetSaveDataPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHe<wbr>lpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">) + </span><span class="sf12b2">"/permittedlist.txt"</span><span class="sf11b2">, </span><span class="sf12b2">"List permitted players ID ONE per line"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">World</span><span class="sf11b2">.</span><span class="sf8b2">GetDevWorld</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">World</span><span class="sf11b2">.</span><span class="sf8b2">GetDevWorld</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;!= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;!= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">currentVersion</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentVersion</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">currentVersion</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentVersion</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d1" href="#d1">.</a></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; font-weight: bold; ">uint</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;</span><span style="color: #000000; background-color: #efcb05; ">num</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;= </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; font-weight: bold; ">uint</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;</span><span style="color: #000000; background-color: #efcb05; ">num</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;= </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">7</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_startingGlobalKeys</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_startingGlobalKeys</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RegisterServ<wbr>er</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">, </span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf3b2">currentVersion</span><span class="sf11b2">, </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">ServerRegistered</span><span class="sf11b2">(</span><span class="sf7b2">this<wbr></span><span class="sf11b2">.</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RegisterServ<wbr>er</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">, </span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf3b2">currentVersion</span><span class="sf11b2">, </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">ServerRegistered</span><span class="sf11b2">(</span><span class="sf7b2">this<wbr></span><span class="sf11b2">.</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZSteamSocket</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZSteamSocket</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">.</span><span class="sf8b2">StartHost</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">.</span><span class="sf8b2">StartHost</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RegisterSe<wbr>rver</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">, </span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">, </span><span class="sf3b2">currentVersion</span><span class="sf11b2">, </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RegisterSe<wbr>rver</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">, </span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">, </span><span class="sf3b2">currentVersion</span><span class="sf11b2">, </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabSocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zplayFabSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPlayFabSocket</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabSocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zplayFabSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPlayFabSocket</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zplayFabSocket</span><span class="sf11b2">.</span><span class="sf8b2">StartHost</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zplayFabSocket</span><span class="sf11b2">.</span><span class="sf8b2">StartHost</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">zplayFabSocket</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">zplayFabSocket</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">WorldGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">)<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">WorldGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">)<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">.</span><span class="sf8b2">SetUID</span><span class="sf11b2">(</span><span class="sf3b2">ZDOMan</span><span class="sf11b2">.</span><span class="sf8b2">GetSessi<wbr>onID</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">.</span><span class="sf8b2">SetUID</span><span class="sf11b2">(</span><span class="sf3b2">ZDOMan</span><span class="sf11b2">.</span><span class="sf8b2">GetSessi<wbr>onID</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Start</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Start</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf8b2">SetLongTimeout</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf8b2">SetLongTimeout</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNET START"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNET START"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">BlockList</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">BlockList</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ServerLoadWorld</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ServerLoadWorld</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ClientConnect</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ClientConnect</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ServerLoadWorld</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ServerLoadWorld</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">LoadWorld</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">LoadWorld</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GenerateLocationsIf<wbr>Needed</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GenerateLocationsIf<wbr>Needed</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"World db couldn't load correctly, saving has been disabled to prevent .old file from being overwritten."</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"World db couldn't load correctly, saving has been disabled to prevent .old file from being overwritten."</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ClientConnect</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ClientConnect</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with PlayFab-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with PlayFab-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayer<wbr>Id</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayer<wbr>Id</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0UL</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0UL</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with Steam-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with Steam-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SteamNetworkingIPAddr</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">steamNetworkingIPAddr</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">default</span><span class="sf11b2">(</span><span class="sf3b2">SteamNetworkingIPAddr</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SteamNetworkingIPAddr</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">steamNetworkingIPAddr</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">default</span><span class="sf11b2">(</span><span class="sf3b2">SteamNetworkingIPAddr</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">steamNetworkingIPAddr</span><span class="sf11b2">.</span><span class="sf8b2">ParseString</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.<wbr></span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">steamNetworkingIPAddr</span><span class="sf11b2">.</span><span class="sf8b2">ParseString</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.<wbr></span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">steamNetworkingIPAddr</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">steamNetworkingIPAddr</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with Steam-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with Steam-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CSteamID</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CSteamID</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">CustomSocket</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">CustomSocket</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with socket-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" &nbsp;"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connecting to server with socket-backend "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" &nbsp;"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerIP</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerIP</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetPublicIP</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetPublicIP</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LocalIPAddress</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LocalIPAddress</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">IPAddress</span><span class="sf11b2">.</span><span class="sf3b2">Loopback</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">IPAddress</span><span class="sf11b2">.</span><span class="sf3b2">Loopback</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">IPAddress</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ipaddress</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dns</span><span class="sf11b2">.</span><span class="sf8b2">GetHostEntry</span><span class="sf11b2">(</span><span class="sf3b2">Dns</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()).</span><span class="sf3b2">Add<wbr>ressList</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">IPAddress</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ipaddress</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dns</span><span class="sf11b2">.</span><span class="sf8b2">GetHostEntry</span><span class="sf11b2">(</span><span class="sf3b2">Dns</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()).</span><span class="sf3b2">Add<wbr>ressList</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ipaddress</span><span class="sf11b2">.</span><span class="sf3b2">AddressFamily</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">AddressFamily</span><span class="sf11b2">.</span><span class="sf3b2">InterNetwork</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ipaddress</span><span class="sf11b2">.</span><span class="sf3b2">AddressFamily</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">AddressFamily</span><span class="sf11b2">.</span><span class="sf3b2">InterNetwork</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ipaddress</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ipaddress</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to get local address, using {0}: {1}"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to get local address, using {0}: {1}"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPublicIP</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPublicIP</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[] { </span><span class="sf12b2">"http://checkip.dyndns.org/"</span><span class="sf11b2">, </span><span class="sf12b2">"http://icanhazip.com"</span><span class="sf11b2">, </span><span class="sf12b2">"https://checkip.amazonaws.com/"</span><span class="sf11b2">, </span><span class="sf12b2">"https://ipinfo.io/ip/"</span><span class="sf11b2">, </span><span class="sf12b2">"https://wtfismyip.com/text"</span><span class="sf11b2">&nbsp;};</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[] { </span><span class="sf12b2">"http://checkip.dyndns.org/"</span><span class="sf11b2">, </span><span class="sf12b2">"http://icanhazip.com"</span><span class="sf11b2">, </span><span class="sf12b2">"https://checkip.amazonaws.com/"</span><span class="sf11b2">, </span><span class="sf12b2">"https://ipinfo.io/ip/"</span><span class="sf11b2">, </span><span class="sf12b2">"https://wtfismyip.com/text"</span><span class="sf11b2">&nbsp;};</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Random</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">random</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf8b2">Random</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf3b2">Random</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">random</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">System</span><span class="sf11b2">.</span><span class="sf8b2">Random</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;</span><span class="sf3b2">GetPublicIP</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DownloadString</span><span class="sf11b2">|</span><span class="sf10b2">10_<wbr>0</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf3b2">random</span><span class="sf11b2">.</span><span class="sf8b2">Next</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">.</span><span class="sf3b2">Length</span><span class="sf11b2">)], </span><span class="sf10b2">5000</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;</span><span class="sf3b2">GetPublicIP</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DownloadString</span><span class="sf11b2">|</span><span class="sf10b2">10_<wbr>0</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf3b2">random</span><span class="sf11b2">.</span><span class="sf8b2">Next</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">.</span><span class="sf3b2">Length</span><span class="sf11b2">)], </span><span class="sf10b2">5000</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Regex</span><span class="sf11b2">(</span><span class="sf12b2">"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\<wbr>.\\d{1,3}"</span><span class="sf11b2">).</span><span class="sf8b2">Matches</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">)[</span><span class="sf10b2">0</span><span class="sf11b2">].</span><span class="sf8b2">ToString</span><span class="sf11b2">()<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Regex</span><span class="sf11b2">(</span><span class="sf12b2">"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\<wbr>.\\d{1,3}"</span><span class="sf11b2">).</span><span class="sf8b2">Matches</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">)[</span><span class="sf10b2">0</span><span class="sf11b2">].</span><span class="sf8b2">ToString</span><span class="sf11b2">()<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnSteamServerRegistered</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">success</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnSteamServerRegistered</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">success</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">success</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">success</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">++;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">++;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">1f</span><span class="sf11b2">&nbsp;* </span><span class="sf3b2">Mathf</span><span class="sf11b2">.</span><span class="sf8b2">Pow</span><span class="sf11b2">(</span><span class="sf10b2">2f</span><span class="sf11b2">, (</span><span class="sf7b2">float</span><span class="sf11b2">)(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">&nbsp;- </span><span class="sf10b2">1</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">1f</span><span class="sf11b2">&nbsp;* </span><span class="sf3b2">Mathf</span><span class="sf11b2">.</span><span class="sf8b2">Pow</span><span class="sf11b2">(</span><span class="sf10b2">2f</span><span class="sf11b2">, (</span><span class="sf7b2">float</span><span class="sf11b2">)(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">&nbsp;- </span><span class="sf10b2">1</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Mathf</span><span class="sf11b2">.</span><span class="sf8b2">Min</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf10b2">30f</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Mathf</span><span class="sf11b2">.</span><span class="sf8b2">Min</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf10b2">30f</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;*= </span><span class="sf3b2">UnityEngine</span><span class="sf11b2">.</span><span class="sf3b2">Random</span><span class="sf11b2">.</span><span class="sf8b2">Range</span><span class="sf11b2">(</span><span class="sf10b2">0.875f</span><span class="sf11b2">, </span><span class="sf10b2">1.125f</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;*= </span><span class="sf3b2">UnityEngine</span><span class="sf11b2">.</span><span class="sf3b2">Random</span><span class="sf11b2">.</span><span class="sf8b2">Range</span><span class="sf11b2">(</span><span class="sf10b2">0.875f</span><span class="sf11b2">, </span><span class="sf10b2">1.125f</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.&lt;</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__RetryR<wbr>egisterAfterDelay</span><span class="sf11b2">|</span><span class="sf10b2">11_0</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.&lt;</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__RetryR<wbr>egisterAfterDelay</span><span class="sf11b2">|</span><span class="sf10b2">11_0</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Shutdown</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">save</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Shutdown</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">save</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNet Shutdown"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNet Shutdown"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">save</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">save</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Save</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Save</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">StopAll</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">StopAll</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf3b2">enabled</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf3b2">enabled</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ShutdownWithoutSave</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ShutdownWithoutSave</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNet Shutdown without save"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNet Shutdown without save"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">StopAll</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">StopAll</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf3b2">enabled</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf3b2">enabled</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">StopAll</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">StopAll</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf3b2">IsAlive</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf3b2">IsAlive</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Join</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Join</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">ShutDown</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">ShutDown</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">ReleaseSessi<wbr>onTicket</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">ReleaseSessi<wbr>onTicket</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">UnregisterSe<wbr>rver</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">UnregisterSe<wbr>rver</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">instance</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">instance</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZPlayFabMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">instance</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">instance</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">UnregisterServer</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">UnregisterServer</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnDestroy</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnDestroy</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNet OnDestroy"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"ZNet OnDestroy"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">this</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">this</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">ISocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">socket</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">ISocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">socket</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZNetPeer</span><span class="sf11b2">(</span><span class="sf3b2">socket</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZNetPeer</span><span class="sf11b2">(</span><span class="sf3b2">socket</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;&gt;</span><span class="sf3b2">c__DisplayClass17_0</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;&gt;</span><span class="sf8b2">c__DisplayClass17_0</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;&gt;</span><span class="sf3b2">c__DisplayClass17_0</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;&gt;</span><span class="sf8b2">c__DisplayClass17_0</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1.</span><span class="sf11b2">&lt;&gt;</span><span class="sf10b2">4__this</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1.</span><span class="sf11b2">&lt;&gt;</span><span class="sf10b2">4__this</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPlayFabSocket</span><span class="sf11b2">(</span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">PlayFabMatchmakingServerData</span><span class="sf11b2">&gt;(</span><span class="sf3b2">CS<wbr></span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1.</span><span class="sf11b2">&lt;</span><span class="sf3b2">Connect</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__CheckServerDa<wbr>ta</span><span class="sf11b2">|</span><span class="sf10b2">0</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPlayFabSocket</span><span class="sf11b2">(</span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">PlayFabMatchmakingServerData</span><span class="sf11b2">&gt;(</span><span class="sf3b2">CS<wbr></span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1.</span><span class="sf11b2">&lt;</span><span class="sf3b2">Connect</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__CheckServerDa<wbr>ta</span><span class="sf11b2">|</span><span class="sf10b2">0</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">socket</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">CS</span><span class="sf11b2">$&lt;&gt;</span><span class="sf10b2">8__locals1</span><span class="sf11b2">.</span><span class="sf3b2">socket</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">CSteamID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostID</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">CSteamID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostID</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZSteamSocket</span><span class="sf11b2">(</span><span class="sf3b2">hostID</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZSteamSocket</span><span class="sf11b2">(</span><span class="sf3b2">hostID</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">SteamNetworkingIPAddr</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">host</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf3b2">SteamNetworkingIPAddr</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">host</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZSteamSocket</span><span class="sf11b2">(</span><span class="sf3b2">host</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZSteamSocket</span><span class="sf11b2">(</span><span class="sf3b2">host</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">host</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">port</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Connect</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">host</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">port</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZConnector2</span><span class="sf11b2">(</span><span class="sf3b2">host</span><span class="sf11b2">, </span><span class="sf3b2">port</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZConnector2</span><span class="sf11b2">(</span><span class="sf3b2">host</span><span class="sf11b2">, </span><span class="sf3b2">port</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateClientConnector</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateClientConnector</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">UpdateStatus</span><span class="sf11b2">(</span><span class="sf3b2">dt</span><span class="sf11b2">,<wbr> </span><span class="sf7b2">true</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">UpdateStatus</span><span class="sf11b2">(</span><span class="sf3b2">dt</span><span class="sf11b2">,<wbr> </span><span class="sf7b2">true</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSocket2</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zsocket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">Complete</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSocket2</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zsocket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">Complete</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">zsocket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">zsocket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connection established to "</span><span class="sf11b2">&nbsp;+ </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointStrin<wbr>g</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Connection established to "</span><span class="sf11b2">&nbsp;+ </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointStrin<wbr>g</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZNetPeer</span><span class="sf11b2">(</span><span class="sf3b2">zsocket</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZNetPeer</span><span class="sf11b2">(</span><span class="sf3b2">zsocket</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorConnectFaile<wbr>d</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorConnectFaile<wbr>d</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to connect to server"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to connect to server"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"PeerInfo<wbr>"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_PeerInfo</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"PeerInfo<wbr>"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_PeerInfo</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"Disconnect"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Disconne<wbr>ct</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"Disconnect"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Disconne<wbr>ct</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"SavePlayerProfile"<wbr></span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_SavePlay<wbr>erProfile</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"SavePlayerProfile"<wbr></span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_SavePlay<wbr>erProfile</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"ServerHandshake"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_ServerHa<wbr>ndshake</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"ServerHandshake"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_ServerHa<wbr>ndshake</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"Kicked"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Kicked</span><span class="sf11b2">))<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"Kicked"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Kicked</span><span class="sf11b2">))<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">int</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Error</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">int</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Error</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"ClientHandshake"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_ClientHandshake</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"ClientHandshake"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_ClientHandshake</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"ServerHandshake"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"ServerHandshake"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveOtherPlayerProfiles</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveOtherPlayerProfiles</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sending message to save player profiles"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sending message to save player profiles"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Only server can save the player profiles"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Only server can save the player profiles"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sent to "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">());<wbr></span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sent to "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">());<wbr></span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"SavePlayerProfil<wbr>e"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"SavePlayerProfil<wbr>e"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_SavePlayerProfile</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_SavePlayerProfile</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SavePlayerProfile</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SavePlayerProfile</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_ServerHandshake</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_ServerHandshake</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Got handshake from client "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Got handshake from client "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ClearPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ClearPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= !</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPass<wbr>word</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= !</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPass<wbr>word</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"ClientHandshake"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"ClientHandshake"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">flag</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">flag</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InPasswordDialog</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InPasswordDialog</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf3b2">active<wbr>Self</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf3b2">active<wbr>Self</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_ClientHandshake</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">needPassword</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverPasswordSalt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_ClientHandshake</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">needPassword</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverPasswordSalt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetA<wbr>ctive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">serverPasswordSalt</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">serverPasswordSalt</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">needPassword</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">needPassword</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetAct<wbr>ive</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetAct<wbr>ive</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GuiInputField</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">componentInChildren</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">GetComponentInChi<wbr>ldren</span><span class="sf11b2">&lt;</span><span class="sf3b2">GuiInputField</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GuiInputField</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">componentInChildren</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">GetComponentInChi<wbr>ldren</span><span class="sf11b2">&lt;</span><span class="sf3b2">GuiInputField</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">componentInChildren</span><span class="sf11b2">.</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">componentInChildren</span><span class="sf11b2">.</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">componentInChildren</span><span class="sf11b2">.</span><span class="sf8b2">ActivateInputField</span><span class="sf11b2">(<wbr>);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">componentInChildren</span><span class="sf11b2">.</span><span class="sf8b2">ActivateInputField</span><span class="sf11b2">(<wbr>);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">componentInChildren</span><span class="sf11b2">.</span><span class="sf3b2">OnInputSubmit</span><span class="sf11b2">.</span><span class="sf8b2">AddLi<wbr>stener</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityAction</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">OnPasswordEnte<wbr>red</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">componentInChildren</span><span class="sf11b2">.</span><span class="sf3b2">OnInputSubmit</span><span class="sf11b2">.</span><span class="sf8b2">AddLi<wbr>stener</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityAction</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">OnPasswordEnte<wbr>red</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">rpc</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">rpc</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">""</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">""</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnPasswordEntered</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pwd</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">OnPasswordEntered</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pwd</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">())<wbr></span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">())<wbr></span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">pwd</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">pwd</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">GetComponentInChi<wbr>ldren</span><span class="sf11b2">&lt;</span><span class="sf3b2">GuiInputField</span><span class="sf11b2">&gt;().</span><span class="sf3b2">OnInputSubmit</span><span class="sf11b2">.</span><span class="sf8b2">Re<wbr>moveListener</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityAction</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">OnPasswordEnte<wbr>red</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">GetComponentInChi<wbr>ldren</span><span class="sf11b2">&lt;</span><span class="sf3b2">GuiInputField</span><span class="sf11b2">&gt;().</span><span class="sf3b2">OnInputSubmit</span><span class="sf11b2">.</span><span class="sf8b2">Re<wbr>moveListener</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">UnityAction</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">OnPasswordEnte<wbr>red</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetAct<wbr>ive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">.</span><span class="sf3b2">gameObject</span><span class="sf11b2">.</span><span class="sf8b2">SetAct<wbr>ive</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRP<wbr>C</span><span class="sf11b2">, </span><span class="sf3b2">pwd</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRP<wbr>C</span><span class="sf11b2">, </span><span class="sf3b2">pwd</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">password</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">password</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetUID</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetUID</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentV<wbr>ersion</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentV<wbr>ersion</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d2" href="#d2">.</a></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">zpackage</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">Write</span><span style="color: #000000; background-color: #efcb05; ">(</span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">);</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">zpackage</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">Write</span><span style="color: #000000; background-color: #efcb05; ">(</span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">7</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition<wbr></span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition<wbr></span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetPlayerP<wbr>rofile</span><span class="sf11b2">().</span><span class="sf8b2">GetName</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetPlayerP<wbr>rofile</span><span class="sf11b2">().</span><span class="sf8b2">GetName</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seed</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seed</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">)<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">)<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_worldGenV<wbr>ersion</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_worldGenV<wbr>ersion</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= (</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">) ? </span><span class="sf12b2">""</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">HashPassword</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= (</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">) ? </span><span class="sf12b2">""</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">HashPassword</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SteamNetworkingIdentity</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">steamNetworkingIdentity</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">default</span><span class="sf11b2">(</span><span class="sf3b2">SteamNetworkingIdentity</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SteamNetworkingIdentity</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">steamNetworkingIdentity</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">default</span><span class="sf11b2">(</span><span class="sf3b2">SteamNetworkingIdentity</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">steamNetworkingIdentity</span><span class="sf11b2">.</span><span class="sf8b2">SetSteamID</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CSteamID</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">steamNetworkingIdentity</span><span class="sf11b2">.</span><span class="sf8b2">SetSteamID</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CSteamID</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RequestSessi<wbr>onTicket</span><span class="sf11b2">(</span><span class="sf7b2">ref</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">steamNetworkingIdentity</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RequestSessi<wbr>onTicket</span><span class="sf11b2">(</span><span class="sf7b2">ref</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">steamNetworkingIdentity</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorConnectFaile<wbr>d</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorConnectFaile<wbr>d</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"PeerInfo"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"PeerInfo"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_PeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pkg</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_PeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pkg</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadLong</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadLong</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">uint</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0U</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">uint</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0U</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">gameVersion</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">gameVersion</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">GameVersion</span><span class="sf11b2">.</span><span class="sf8b2">TryParseGameVersion</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">gameVersion</span><span class="sf11b2">) &amp;&amp; </span><span class="sf3b2">gameVersion</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">FirstVersionWithNetwork<wbr>Version</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">GameVersion</span><span class="sf11b2">.</span><span class="sf8b2">TryParseGameVersion</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">gameVersion</span><span class="sf11b2">) &amp;&amp; </span><span class="sf3b2">gameVersion</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">FirstVersionWithNetwork<wbr>Version</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadUInt</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadUInt</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d3" href="#d3">.</a></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">ZLog</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">Log</span><span style="color: #000000; background-color: #efcb05; ">(</span><span style="color: #000000; background-color: #efcb05; ">"Network version check, their:"</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;+ </span><span style="color: #000000; background-color: #efcb05; ">num2</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">ToString</span><span style="color: #000000; background-color: #efcb05; ">() + </span><span style="color: #000000; background-color: #efcb05; ">", mine:"</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;+ </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">ToString</span><span style="color: #000000; background-color: #efcb05; ">());</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">ZLog</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">Log</span><span style="color: #000000; background-color: #efcb05; ">(</span><span style="color: #000000; background-color: #efcb05; ">"Network version check, their:"</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;+ </span><span style="color: #000000; background-color: #efcb05; ">num2</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">ToString</span><span style="color: #000000; background-color: #efcb05; ">() + </span><span style="color: #000000; background-color: #efcb05; ">", mine:"</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;+ </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">7</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">ToString</span><span style="color: #000000; background-color: #efcb05; ">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; font-weight: bold; ">if</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;(</span><span style="color: #000000; background-color: #efcb05; ">num2</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;!= </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">)</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; font-weight: bold; ">if</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;(</span><span style="color: #000000; background-color: #efcb05; ">num2</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;!= </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">7</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">3</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">3</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorVersion</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorVersion</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[</span><span class="sf10b2">11</span><span class="sf11b2">];</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[</span><span class="sf10b2">11</span><span class="sf11b2">];</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">0</span><span class="sf11b2">] = </span><span class="sf12b2">"Peer "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">0</span><span class="sf11b2">] = </span><span class="sf12b2">"Peer "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">1</span><span class="sf11b2">] = </span><span class="sf3b2">endPointString</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">1</span><span class="sf11b2">] = </span><span class="sf3b2">endPointString</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">2</span><span class="sf11b2">] = </span><span class="sf12b2">" has incompatible version, mine:"</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">2</span><span class="sf11b2">] = </span><span class="sf12b2">" has incompatible version, mine:"</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">3</span><span class="sf11b2">] = </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentVersion</span><span class="sf11b2">.</span><span class="sf8b2">ToString<wbr></span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">3</span><span class="sf11b2">] = </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentVersion</span><span class="sf11b2">.</span><span class="sf8b2">ToString<wbr></span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">4</span><span class="sf11b2">] = </span><span class="sf12b2">" (network version "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">4</span><span class="sf11b2">] = </span><span class="sf12b2">" (network version "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d4" href="#d4">.</a></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">array</span><span style="color: #000000; background-color: #efcb05; ">[</span><span style="color: #000000; background-color: #efcb05; ">5</span><span style="color: #000000; background-color: #efcb05; ">] = </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">ToString</span><span style="color: #000000; background-color: #efcb05; ">();</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">array</span><span style="color: #000000; background-color: #efcb05; ">[</span><span style="color: #000000; background-color: #efcb05; ">5</span><span style="color: #000000; background-color: #efcb05; ">] = </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">7</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">ToString</span><span style="color: #000000; background-color: #efcb05; ">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">6</span><span class="sf11b2">] = </span><span class="sf12b2">") &nbsp; remote "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">6</span><span class="sf11b2">] = </span><span class="sf12b2">") &nbsp; remote "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">7</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">7</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">gameVersion2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">gameVersion</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">gameVersion2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">gameVersion</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf3b2">num3</span><span class="sf11b2">] = </span><span class="sf3b2">gameVersion2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf3b2">num3</span><span class="sf11b2">] = </span><span class="sf3b2">gameVersion2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">8</span><span class="sf11b2">] = </span><span class="sf12b2">" (network version "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">8</span><span class="sf11b2">] = </span><span class="sf12b2">" (network version "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">9</span><span class="sf11b2">] = ((</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">uint</span><span class="sf11b2">.</span><span class="sf3b2">MaxValue</span><span class="sf11b2">) ? </span><span class="sf12b2">"unknown"</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">num2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">9</span><span class="sf11b2">] = ((</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">uint</span><span class="sf11b2">.</span><span class="sf3b2">MaxValue</span><span class="sf11b2">) ? </span><span class="sf12b2">"unknown"</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">num2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">10</span><span class="sf11b2">] = </span><span class="sf12b2">")"</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf10b2">10</span><span class="sf11b2">] = </span><span class="sf12b2">")"</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">vector</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadVector3</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">vector</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadVector3</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsAllowed</span><span class="sf11b2">(</span><span class="sf3b2">hostName</span><span class="sf11b2">, </span><span class="sf3b2">text2</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsAllowed</span><span class="sf11b2">(</span><span class="sf3b2">hostName</span><span class="sf11b2">, </span><span class="sf3b2">text2</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">8</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">8</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[] { </span><span class="sf12b2">"Player "</span><span class="sf11b2">, </span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf12b2">" : "</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">, </span><span class="sf12b2">" is blacklisted or not in whitelist."</span><span class="sf11b2">&nbsp;}));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[] { </span><span class="sf12b2">"Player "</span><span class="sf11b2">, </span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf12b2">" : "</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">, </span><span class="sf12b2">" is blacklisted or not in whitelist."</span><span class="sf11b2">&nbsp;}));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">as</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">as</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadByteArray</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadByteArray</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">VerifySess<wbr>ionTicket</span><span class="sf11b2">(</span><span class="sf3b2">array2</span><span class="sf11b2">, </span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerID</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">VerifySess<wbr>ionTicket</span><span class="sf11b2">(</span><span class="sf3b2">array2</span><span class="sf11b2">, </span><span class="sf3b2">zsteamSocket</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerID</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" has invalid session ticket"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" has invalid session ticket"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">8</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">8</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">platform</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">platform</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">Enum</span><span class="sf11b2">.</span><span class="sf3b2">TryParse</span><span class="sf11b2">&lt;</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platfo<wbr>rm</span><span class="sf11b2">&gt;(</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">().</span><span class="sf8b2">Split</span><span class="sf11b2">(</span><span class="sf12b2">'<wbr>_'</span><span class="sf11b2">, </span><span class="sf3b2">StringSplitOptions</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)[</span><span class="sf10b2">0</span><span class="sf11b2">], </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">platform</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">Enum</span><span class="sf11b2">.</span><span class="sf3b2">TryParse</span><span class="sf11b2">&lt;</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platfo<wbr>rm</span><span class="sf11b2">&gt;(</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">().</span><span class="sf8b2">Split</span><span class="sf11b2">(</span><span class="sf12b2">'<wbr>_'</span><span class="sf11b2">, </span><span class="sf3b2">StringSplitOptions</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)[</span><span class="sf10b2">0</span><span class="sf11b2">], </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">platform</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to parse peer platform! Using \""</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Unknown</span><span class="sf11b2">.</span><span class="sf8b2">ToStr<wbr>ing</span><span class="sf11b2">() + </span><span class="sf12b2">"\"."</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to parse peer platform! Using \""</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Unknown</span><span class="sf11b2">.</span><span class="sf8b2">ToStr<wbr>ing</span><span class="sf11b2">() + </span><span class="sf12b2">"\"."</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">platform</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Unknown</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">platform</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Unknown</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">CanCrossplay</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetCurrentPlatform</span><span class="sf11b2">() != </span><span class="sf3b2">platform</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">CanCrossplay</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetCurrentPlatform</span><span class="sf11b2">() != </span><span class="sf3b2">platform</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">10</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">10</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer diconnected due to server platform privileges disallowing crossplay. Server platform: "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetCurrentPlatform</span><span class="sf11b2">().</span><span class="sf8b2">T<wbr>oString</span><span class="sf11b2">() + </span><span class="sf12b2">" &nbsp; Peer platform: "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">platform</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer diconnected due to server platform privileges disallowing crossplay. Server platform: "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetCurrentPlatform</span><span class="sf11b2">().</span><span class="sf8b2">T<wbr>oString</span><span class="sf11b2">() + </span><span class="sf12b2">" &nbsp; Peer platform: "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">platform</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetNrOfPlayers</span><span class="sf11b2">() &gt;= </span><span class="sf10b2">10</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetNrOfPlayers</span><span class="sf11b2">() &gt;= </span><span class="sf10b2">10</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">9</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">9</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" disconnected due to server is full"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" disconnected due to server is full"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">text3</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">text3</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">6</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">6</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" has wrong password"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Peer "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" has wrong password"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">7</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Error"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf10b2">7</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Already connected to peer with UID:"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">" &nbsp;"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Already connected to peer with UID:"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">" &nbsp;"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">endPointString</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">World</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">World</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seed</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seed</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadLong</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadLong</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_worldGenVersion</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_worldGenVersion</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">WorldGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">)<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">WorldGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Initialize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">)<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadDouble</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadDouble</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_refPos</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">vector</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_refPos</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">vector</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"ServerSyncedPla<wbr>yerData"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_ServerSyncedPlayerDa<wbr>ta</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"ServerSyncedPla<wbr>yerData"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_ServerSyncedPlayerDa<wbr>ta</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"PlayerList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_PlayerList</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"PlayerList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_PlayerList</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"AdminList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_AdminList</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"AdminList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_AdminList</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"RemotePrint"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_RemotePrint</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"RemotePrint"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_RemotePrint</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"CharacterID"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_CharacterID</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"CharacterID"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_CharacterID</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Kick"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Kick</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Kick"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Kick</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Ban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Ban</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Ban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Ban</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Unban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Unban</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"Unban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Unban</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"RPC_RemoteCommand<wbr>"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_RemoteCommand</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"RPC_RemoteCommand<wbr>"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_RemoteCommand</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"Save"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Save</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"Save"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_Save</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"PrintBanned"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_PrintBan<wbr>ned</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Register</span><span class="sf11b2">(</span><span class="sf12b2">"PrintBanned"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">RpcMethod</span><span class="sf11b2">.</span><span class="sf8b2">Method</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_PrintBan<wbr>ned</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">double</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"NetTime"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">double</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_NetTime</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf3b2">Register</span><span class="sf11b2">&lt;</span><span class="sf7b2">double</span><span class="sf11b2">&gt;(</span><span class="sf12b2">"NetTime"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">, </span><span class="sf7b2">double</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">RPC_NetTime</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">""</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeerInfo</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">""</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">VersionMatch</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">VersionMatch</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendAdminList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendAdminList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">VersionMatch</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">VersionMatch</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">AddPeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">AddPeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">.</span><span class="sf8b2">AddPeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">.</span><span class="sf8b2">AddPeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sending disconnect msg"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sending disconnect msg"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendDisconnect</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sent to "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Sent to "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetEndPointString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Disconnect"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Disconnect"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"RPC_Disconnect"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"RPC_Disconnect"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_server</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_server</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorDisconnected<wbr></span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorDisconnected<wbr></span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Error</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">error</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Error</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">error</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">connectionStatus</span><span class="sf11b2">&nbsp;= (</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">)</span><span class="sf3b2">error</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">connectionStatus</span><span class="sf11b2">&nbsp;= (</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">)</span><span class="sf3b2">error</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">connectionStatus</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">connectionStatus</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Got connectoin error msg "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">connectionStatus</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Got connectoin error msg "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">connectionStatus</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsConnected</span><span class="sf11b2">(</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsConnected</span><span class="sf11b2">(</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">uid</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetUID</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">uid</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetUID</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">using</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;.</span><span class="sf3b2">Enumerator</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">enumerator</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">GetEnumerator</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">using</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;.</span><span class="sf3b2">Enumerator</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">enumerator</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">GetEnumerator</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">while</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">enumerator</span><span class="sf11b2">.</span><span class="sf8b2">MoveNext</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">while</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">enumerator</span><span class="sf11b2">.</span><span class="sf8b2">MoveNext</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">enumerator</span><span class="sf11b2">.</span><span class="sf3b2">Current</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">enumerator</span><span class="sf11b2">.</span><span class="sf3b2">Current</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ClearPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ClearPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">.</span><span class="sf8b2">RemovePeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">.</span><span class="sf8b2">RemovePeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">RemovePeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">RemovePeer</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ClearPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ClearPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">Remove</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">Remove</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">FixedUpdate</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">FixedUpdate</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdateNetTime</span><span class="sf11b2">(</span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">fixedDeltaTime</span><span class="sf11b2">)<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdateNetTime</span><span class="sf11b2">(</span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">fixedDeltaTime</span><span class="sf11b2">)<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Update</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Update</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">deltaTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">deltaTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">deltaTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">deltaTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">.</span><span class="sf8b2">UpdateAllSockets</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime<wbr></span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamSocket</span><span class="sf11b2">.</span><span class="sf8b2">UpdateAllSockets</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime<wbr></span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabSocket</span><span class="sf11b2">.</span><span class="sf8b2">UpdateAllSockets</span><span class="sf11b2">(</span><span class="sf3b2">deltaTi<wbr>me</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabSocket</span><span class="sf11b2">.</span><span class="sf8b2">UpdateAllSockets</span><span class="sf11b2">(</span><span class="sf3b2">deltaTi<wbr>me</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdateBanList</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdateBanList</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">CheckForIncommingServerConnections<wbr></span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">CheckForIncommingServerConnections<wbr></span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdatePeers</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdatePeers</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeriodicData</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPeriodicData</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">Update</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">Update</span><span class="sf11b2">(</span><span class="sf3b2">deltaTime</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdateSave</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdateSave</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf10b2">1</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf10b2">1</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf3b2">Keys</span><span class="sf11b2">.</span><span class="sf3b2">To<wbr>Array</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf3b2">Keys</span><span class="sf11b2">.</span><span class="sf3b2">To<wbr>Array</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">time</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">[</span><span class="sf3b2">znetPee<wbr>r</span><span class="sf11b2">])</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">time</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">[</span><span class="sf3b2">znetPee<wbr>r</span><span class="sf11b2">])</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf8b2">Remove</span><span class="sf11b2">(<wbr></span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf8b2">Remove</span><span class="sf11b2">(<wbr></span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LateUpdate</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LateUpdate</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabSocket</span><span class="sf11b2">.</span><span class="sf8b2">LateUpdateAllSocket</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPlayFabSocket</span><span class="sf11b2">.</span><span class="sf8b2">LateUpdateAllSocket</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateNetTime</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateNetTime</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetNrOfPlayers</span><span class="sf11b2">() &gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetNrOfPlayers</span><span class="sf11b2">() &gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;+= (</span><span class="sf7b2">double</span><span class="sf11b2">)</span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;+= (</span><span class="sf7b2">double</span><span class="sf11b2">)</span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;+= (</span><span class="sf7b2">double</span><span class="sf11b2">)</span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;+= (</span><span class="sf7b2">double</span><span class="sf11b2">)</span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateBanList</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateBanList</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">5f</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">5f</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">CheckWhiteList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">CheckWhiteList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CheckWhiteList</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CheckWhiteList</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">.</span><span class="sf8b2">Count</span><span class="sf11b2">() == </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">.</span><span class="sf8b2">Count</span><span class="sf11b2">() == </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">while</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">flag</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">while</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">flag</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedL<wbr>ist</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedL<wbr>ist</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Kicking player not in permitted list "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" host: "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">hostName</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Kicking player not in permitted list "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" host: "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">hostName</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsSaving</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsSaving</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveWorldAndPlayerProfiles</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveWorldAndPlayerProfiles</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RPC_Save</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RPC_Save</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Save"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Save"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Save</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Save</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf3b2">enabled</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf3b2">enabled</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">rpc</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">, </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">rpc</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">, </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">EnoughDiskSpaceAvailable</span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">null</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">EnoughDiskSpaceAvailable</span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">null</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Saving.."</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Saving.."</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SavePlayerProfile</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SavePlayerProfile</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Save</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Save</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">id</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">id</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">id</span><span class="sf11b2">.</span><span class="sf8b2">StartsWith</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlat<wbr>formPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">St<wbr>eam</span><span class="sf11b2">)))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">id</span><span class="sf11b2">.</span><span class="sf8b2">StartsWith</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlat<wbr>formPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">St<wbr>eam</span><span class="sf11b2">)))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">) || </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">.</span><span class="sf8b2">Substring</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeMan<wbr>ager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlatformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager<wbr></span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Steam</span><span class="sf11b2">).</span><span class="sf3b2">Length</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">) || </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">.</span><span class="sf8b2">Substring</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeMan<wbr>ager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlatformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager<wbr></span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Steam</span><span class="sf11b2">).</span><span class="sf3b2">Length</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">id</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf12b2">"_"</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">id</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf12b2">"_"</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlatf<wbr>ormPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Ste<wbr>am</span><span class="sf11b2">) + </span><span class="sf3b2">id</span><span class="sf11b2">) || </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlatf<wbr>ormPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Ste<wbr>am</span><span class="sf11b2">) + </span><span class="sf3b2">id</span><span class="sf11b2">) || </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">id</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Save</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">sync</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveOtherPlayerProfiles</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Save</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">sync</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveOtherPlayerProfiles</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf3b2">m_saveTimer</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf3b2">m_saveTimer</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SkipSaving</span><span class="sf11b2">() || </span><span class="sf3b2">DungeonDB</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SkipSaving</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SkipSaving</span><span class="sf11b2">() || </span><span class="sf3b2">DungeonDB</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SkipSaving</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf12b2">"Skipping world save"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf12b2">"Skipping world save"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">saveOtherPlayerProfiles</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">saveOtherPlayerProfiles</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SaveOtherPlayerProfiles</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SaveOtherPlayerProfiles</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SaveWorld</span><span class="sf11b2">(</span><span class="sf3b2">sync</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SaveWorld</span><span class="sf11b2">(</span><span class="sf3b2">sync</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">EnoughDiskSpaceAvailable</span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">exitGamePopupShown</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">EnoughDiskSpaceAvailable</span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">exitGamePopupShown</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">exitGamePopupShown</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">exitGamePopupShown</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetWorldIfIsHost</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">GetWorldIfIsHost</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileSource</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileSource</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileSource</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileSource</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">worldIfIsHost</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">PlayerProfile</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerProfile</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetPlayerProfile</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">PlayerProfile</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerProfile</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetPlayerProfile</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">CheckDiskSpace</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">playerProfile</span><span class="sf11b2">.</span><span class="sf8b2">GetPath</span><span class="sf11b2">(), </span><span class="sf3b2">fileSource</span><span class="sf11b2">, </span><span class="sf3b2">playerProfile</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">CheckDiskSpace</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">playerProfile</span><span class="sf11b2">.</span><span class="sf8b2">GetPath</span><span class="sf11b2">(), </span><span class="sf3b2">fileSource</span><span class="sf11b2">, </span><span class="sf3b2">playerProfile</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">num3</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">num2</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">num3</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">num2</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">LowDiskLeftInformer</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">num2</span><span class="sf11b2">, </span><span class="sf3b2">num3</span><span class="sf11b2">, </span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">, </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">LowDiskLeftInformer</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">num2</span><span class="sf11b2">, </span><span class="sf3b2">num3</span><span class="sf11b2">, </span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">, </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">num3</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">num3</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">exitGamePopupShown</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">exitGamePopupShown</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf12b2">"Not enough space left to save. "</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf12b2">"Not enough space left to save. "</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LowDiskLeftInformer</span><span class="sf11b2">(</span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">availableFreeSpace</span><span class="sf11b2">, </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">byteLimitWarning</span><span class="sf11b2">, </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">byteLimitBlock</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">, </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LowDiskLeftInformer</span><span class="sf11b2">(</span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">availableFreeSpace</span><span class="sf11b2">, </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">byteLimitWarning</span><span class="sf11b2">, </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">byteLimitBlock</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">, </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">availableFreeSpace</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">byteLimitBlock</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">availableFreeSpace</span><span class="sf11b2">&nbsp;&lt;= </span><span class="sf3b2">byteLimitBlock</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsDedicated</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsDedicated</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">Center</span><span class="sf11b2">, </span><span class="sf12b2">"$msg_worldsaveblockedonserver"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">Center</span><span class="sf11b2">, </span><span class="sf12b2">"$msg_worldsaveblockedonserver"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">exitGamePrompt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"$menu_lowdisk_block_exitanyway_prompt"<wbr></span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"$menu_lowdisk_block_exitanyway_prompt"<wbr></span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Push</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">YesNoPopup</span><span class="sf11b2">(</span><span class="sf12b2">"$menu_lowdisk_block_exitany<wbr>way_header"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">delegate</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Push</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">YesNoPopup</span><span class="sf11b2">(</span><span class="sf12b2">"$menu_lowdisk_block_exitany<wbr>way_header"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">delegate</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">onDecisionMade2</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">onDecisionMade2</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">onDecisionMade2</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">onDecisionMade2</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">delegate</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">delegate</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf7b2">bool</span><span class="sf11b2">&gt; </span><span class="sf3b2">onDecisionMade3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">onDecisionMade</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">onDecisionMade3</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">onDecisionMade3</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">onDecisionMade3</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">onDecisionMade3</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">true</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">true</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SavingBlockedPopup</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SavingBlockedPopup</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsDedicated</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsDedicated</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">Center</span><span class="sf11b2">, </span><span class="sf12b2">"$msg_worldsavewarningonserver"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">Center</span><span class="sf11b2">, </span><span class="sf12b2">"$msg_worldsavewarningonserver"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SaveLowDiskWarningPopup</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SaveLowDiskWarningPopup</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Running low on disk space... Available space: {0} bytes."</span><span class="sf11b2">, </span><span class="sf3b2">availableFreeSpace</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Running low on disk space... Available space: {0} bytes."</span><span class="sf11b2">, </span><span class="sf3b2">availableFreeSpace</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SavingBlockedPopup</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SavingBlockedPopup</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"$menu_lowdisk_message_block"</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"$menu_lowdisk_message_block"</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Push</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">WarningPopup</span><span class="sf11b2">(</span><span class="sf12b2">"$menu_lowdisk_header_bloc<wbr>k"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">delegate</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Push</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">WarningPopup</span><span class="sf11b2">(</span><span class="sf12b2">"$menu_lowdisk_header_bloc<wbr>k"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">delegate</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">true</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">true</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveLowDiskWarningPopup</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveLowDiskWarningPopup</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"$menu_lowdisk_message_warn"</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"$menu_lowdisk_message_warn"</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Push</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">WarningPopup</span><span class="sf11b2">(</span><span class="sf12b2">"$menu_lowdisk_header_warn<wbr>"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">delegate</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Push</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">WarningPopup</span><span class="sf11b2">(</span><span class="sf12b2">"$menu_lowdisk_header_warn<wbr>"</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">delegate</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">UnifiedPopup</span><span class="sf11b2">.</span><span class="sf8b2">Pop</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">true</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }, </span><span class="sf7b2">true</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">PlayerIsHost</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">PlayerIsHost</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetServerPeer</span><span class="sf11b2">() == </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetServerPeer</span><span class="sf11b2">() == </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LocalPlayerIsAdminOrHost</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LocalPlayerIsAdminOrHost</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">PlayerIsHost</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">PlayerIsHost</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">networkUserId</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">UserInfo</span><span class="sf11b2">.</span><span class="sf8b2">GetLocalUser</span><span class="sf11b2">().</span><span class="sf3b2">NetworkUserId</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">networkUserId</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">UserInfo</span><span class="sf11b2">.</span><span class="sf8b2">GetLocalUser</span><span class="sf11b2">().</span><span class="sf3b2">NetworkUserId</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">PlayerIsAdmin</span><span class="sf11b2">(</span><span class="sf3b2">networkUserId</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">PlayerIsAdmin</span><span class="sf11b2">(</span><span class="sf3b2">networkUserId</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">PlayerIsAdmin</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">networkUserId</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">PlayerIsAdmin</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">networkUserId</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">adminList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetAdminList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">adminList</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetAdminList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;!</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">networkUserId</span><span class="sf11b2">) &amp;&amp; </span><span class="sf3b2">adminList</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">adminList</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">networkUserId</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;!</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">networkUserId</span><span class="sf11b2">) &amp;&amp; </span><span class="sf3b2">adminList</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">adminList</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">networkUserId</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWorldIfIsHost</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWorldIfIsHost</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Debug</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Am I Host? {0}"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Debug</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Am I Host? {0}"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendPeriodicData</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendPeriodicData</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">dt</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">2f</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">2f</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendNetTime</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendNetTime</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendServerSyncPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">)<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">SendServerSyncPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">)<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendServerSyncPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendServerSyncPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition<wbr></span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition<wbr></span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePo<wbr>sition</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePo<wbr>sition</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlaye<wbr>rData</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlaye<wbr>rData</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">KeyValuePair</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">keyValuePair</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">KeyValuePair</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">keyValuePair</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">keyValuePair</span><span class="sf11b2">.</span><span class="sf3b2">Key</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">keyValuePair</span><span class="sf11b2">.</span><span class="sf3b2">Key</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">keyValuePair</span><span class="sf11b2">.</span><span class="sf3b2">Value</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">keyValuePair</span><span class="sf11b2">.</span><span class="sf3b2">Value</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"ServerSyncedPlayerDa<wbr>ta"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"ServerSyncedPlayerDa<wbr>ta"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendNetTime</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendNetTime</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"NetTime"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"NetTime"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_NetTime</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">time</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_NetTime</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">time</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">time</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">time</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_ServerSyncedPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">data</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_ServerSyncedPlayerData</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">data</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d5" href="#d5">.</a></td><td style="color: #000000; background-color: #c0c0c0; "><code>&nbsp;</code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">RandEventSystem</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">SetRandomEventsNeedsRef<wbr>resh</span><span style="color: #000000; background-color: #efcb05; ">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_refPos</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadVector3</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_refPos</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadVector3</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_publicRefPos</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadBool</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_publicRefPos</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadBool</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">num</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">num</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">data</span><span class="sf11b2">.<wbr></span><span class="sf8b2">ReadString</span><span class="sf11b2">(), </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">data</span><span class="sf11b2">.<wbr></span><span class="sf8b2">ReadString</span><span class="sf11b2">(), </span><span class="sf3b2">data</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdatePeers</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdatePeers</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_server</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_server</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorConnectFaile<wbr>d</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorConnectFaile<wbr>d</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorDisconnected<wbr></span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorDisconnected<wbr></span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">ToArray</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf8b2">ToArray</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">array</span><span class="sf11b2">.</span><span class="sf3b2">Length</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">array</span><span class="sf11b2">.</span><span class="sf3b2">Length</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf3b2">i</span><span class="sf11b2">].</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Update</span><span class="sf11b2">(</span><span class="sf3b2">dt</span><span class="sf11b2">) == </span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">ErrorCode</span><span class="sf11b2">.</span><span class="sf3b2">IncompatibleVersion</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">array</span><span class="sf11b2">[</span><span class="sf3b2">i</span><span class="sf11b2">].</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Update</span><span class="sf11b2">(</span><span class="sf3b2">dt</span><span class="sf11b2">) == </span><span class="sf3b2">ZRpc</span><span class="sf11b2">.</span><span class="sf3b2">ErrorCode</span><span class="sf11b2">.</span><span class="sf3b2">IncompatibleVersion</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorVersion</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorVersion</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CheckForIncommingServerConnections</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CheckForIncommingServerConnections</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ISocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">.</span><span class="sf8b2">Accept</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ISocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">.</span><span class="sf8b2">Accept</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">socket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">socket</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">socket</span><span class="sf11b2">.</span><span class="sf8b2">IsConnected</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">socket</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">socket</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZNetPeer</span><span class="sf11b2">(</span><span class="sf3b2">socket</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZNetPeer</span><span class="sf11b2">(</span><span class="sf3b2">socket</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">OnNewConnection</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeerByPlayerName</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">name</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeerByPlayerName</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">name</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">() &amp;&amp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">name</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">() &amp;&amp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">name</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">endpoint</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">endpoint</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">() &amp;&amp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">() == </span><span class="sf3b2">endpoint</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">() &amp;&amp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">() == </span><span class="sf3b2">endpoint</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">uid</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetConnectedPeers</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetConnectedPeers</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveWorld</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">sync</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveWorld</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">sync</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">worldSaveStarted</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">WorldSaveStarted</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">worldSaveStarted</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">WorldSaveStarted</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">worldSaveStarted</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">worldSaveStarted</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">worldSaveStarted</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">worldSaveStarted</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf3b2">IsAlive</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf3b2">IsAlive</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Join</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Join</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveStartTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">realtimeSinceStartup</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveStartTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">realtimeSinceStartup</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">PrepareSave</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">PrepareSave</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">PrepareSave</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">PrepareSave</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandEventSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">PrepareSave</span><span class="sf11b2">();<wbr></span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandEventSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">PrepareSave</span><span class="sf11b2">();<wbr></span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PlatformPrefs</span><span class="sf11b2">.</span><span class="sf8b2">GetInt</span><span class="sf11b2">(</span><span class="sf12b2">"AutoBackups"</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">realtimeSinceStartup</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">realtimeSinceStartup</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Thread</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ThreadStart</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Thread</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ThreadStart</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Start</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Start</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">sync</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">sync</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Join</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf8b2">Join</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0.5f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0.5f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateSave</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdateSave</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0f</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0f</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;-= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">fixedDeltaTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;-= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">fixedDeltaTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf10b2">0f</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf10b2">0f</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">PrintWorldSaveMessage</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">PrintWorldSaveMessage</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf3b2">IsAlive</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">.</span><span class="sf3b2">IsAlive</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0.5f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0.5f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">PrintWorldSaveMessage</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">PrintWorldSaveMessage</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">&nbsp;- </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveStartTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">&nbsp;- </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveStartTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">realtimeSinceStartup</span><span class="sf11b2">&nbsp;- </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">realtimeSinceStartup</span><span class="sf11b2">&nbsp;- </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">TopLeft</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">TopLeft</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"$msg_worldsavedcloudstoragefull ( "</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"$msg_worldsavedcloudstoragefull ( "</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"+"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"+"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"s )"</span>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"s )"</span>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">TopLeft</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">MessageHud</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">MessageAll</span><span class="sf11b2">(</span><span class="sf3b2">MessageH<wbr>ud</span><span class="sf11b2">.</span><span class="sf3b2">MessageType</span><span class="sf11b2">.</span><span class="sf3b2">TopLeft</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"$msg_worldsaved ( "</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"$msg_worldsaved ( "</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"+"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"+"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num2</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"0.00"</span><span class="sf11b2">),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"s )"</span>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"s )"</span>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">worldSaveFinished</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">WorldSaveFinished</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">worldSaveFinished</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">WorldSaveFinished</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">worldSaveFinished</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">worldSaveFinished</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">worldSaveFinished</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">worldSaveFinished</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveWorldThread</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SaveWorldThread</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">now</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">now</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">52428800UL</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">52428800UL</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">GetFileSize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">Ge<wbr>tMetaPath</span><span class="sf11b2">(), </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">GetFileSize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">Ge<wbr>tMetaPath</span><span class="sf11b2">(), </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">Exists</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBP<wbr>ath</span><span class="sf11b2">(), </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">Exists</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBP<wbr>ath</span><span class="sf11b2">(), </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">GetFileSize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">Ge<wbr>tDBPath</span><span class="sf11b2">(), </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">GetFileSize</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">Ge<wbr>tDBPath</span><span class="sf11b2">(), </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">CheckMove</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fil<wbr>eName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">.</span><span class="sf3b2">World</span><span class="sf11b2">, </span><span class="sf7b2">ref</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">, </span><span class="sf3b2">now</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">CheckMove</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fil<wbr>eName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">.</span><span class="sf3b2">World</span><span class="sf11b2">, </span><span class="sf7b2">ref</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">, </span><span class="sf3b2">now</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_createBackupBeforeSaving<wbr></span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf3b2">flag</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_createBackupBeforeSaving<wbr></span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf3b2">flag</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">m_cloudEnabled</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">m_cloudEnabled</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;*= (</span><span class="sf3b2">flag2</span><span class="sf11b2">&nbsp;? </span><span class="sf10b2">3UL</span><span class="sf11b2">&nbsp;: </span><span class="sf10b2">2UL</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;*= (</span><span class="sf3b2">flag2</span><span class="sf11b2">&nbsp;? </span><span class="sf10b2">3UL</span><span class="sf11b2">&nbsp;: </span><span class="sf10b2">2UL</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">OperationExceedsCloudCapac<wbr>ity</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">OperationExceedsCloudCapac<wbr>ity</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">m_cloudOnly</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">m_cloudOnly</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">throw</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Exception</span><span class="sf11b2">(</span><span class="sf12b2">"The world save operation may exceed the cloud save quota and was therefore not performed!"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">throw</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Exception</span><span class="sf11b2">(</span><span class="sf12b2">"The world save operation may exceed the cloud save quota and was therefore not performed!"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">metaPath</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">metaPath</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">metaPath2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">metaPath2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">FileCopyOutFromCloud</span><span class="sf11b2">(</span><span class="sf3b2">metaPa<wbr>th</span><span class="sf11b2">, </span><span class="sf3b2">metaPath2</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">FileCopyOutFromCloud</span><span class="sf11b2">(</span><span class="sf3b2">metaPa<wbr>th</span><span class="sf11b2">, </span><span class="sf3b2">metaPath2</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">FileExistsCloud</span><span class="sf11b2">(</span><span class="sf3b2">dbpath</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">FileExistsCloud</span><span class="sf11b2">(</span><span class="sf3b2">dbpath</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">FileCopyOutFromCloud</span><span class="sf11b2">(</span><span class="sf3b2">dbpath<wbr></span><span class="sf11b2">, </span><span class="sf3b2">dbpath2</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">FileCopyOutFromCloud</span><span class="sf11b2">(</span><span class="sf3b2">dbpath<wbr></span><span class="sf11b2">, </span><span class="sf3b2">dbpath2</span><span class="sf11b2">, </span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf12b2">"The world save operation may exceed the cloud save quota and it has therefore been moved to local storage!"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogWarning</span><span class="sf11b2">(</span><span class="sf12b2">"The world save operation may exceed the cloud save quota and it has therefore been moved to local storage!"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">flag2</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">flag2</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveWithBackups</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveWithBackups</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveWithBackups</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveWithBackups</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">TryGetSaveByName</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_wor<wbr>ld</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">.</span><span class="sf3b2">World</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveWithBackups</span><span class="sf11b2">) &amp;&amp; !</span><span class="sf3b2">saveWithBackups</span><span class="sf11b2">.</span><span class="sf3b2">IsDeleted</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">TryGetSaveByName</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_wor<wbr>ld</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">.</span><span class="sf3b2">World</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveWithBackups</span><span class="sf11b2">) &amp;&amp; !</span><span class="sf3b2">saveWithBackups</span><span class="sf11b2">.</span><span class="sf3b2">IsDeleted</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">CreateBackup</span><span class="sf11b2">(</span><span class="sf3b2">saveWithBackup<wbr>s</span><span class="sf11b2">.</span><span class="sf3b2">PrimaryFile</span><span class="sf11b2">, </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">CreateBackup</span><span class="sf11b2">(</span><span class="sf3b2">saveWithBackup<wbr>s</span><span class="sf11b2">.</span><span class="sf3b2">PrimaryFile</span><span class="sf11b2">, </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Migrating world save from an old save format, created backup!"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Migrating world save from an old save format, created backup!"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to create backup of world save "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"!"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to create backup of world save "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"!"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to get world save "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" from save system, so a backup couldn't be created!"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Failed to get world save "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" from save system, so a backup couldn't be created!"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_createBackupBeforeSaving<wbr></span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_createBackupBeforeSaving<wbr></span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dateTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dateTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= (</span><span class="sf3b2">flag3</span><span class="sf11b2">&nbsp;? (</span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">".new"</span><span class="sf11b2">) : </span><span class="sf3b2">dbpath3</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= (</span><span class="sf3b2">flag3</span><span class="sf11b2">&nbsp;? (</span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">".new"</span><span class="sf11b2">) : </span><span class="sf3b2">dbpath3</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">".old"</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">".old"</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing starting"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing starting"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileWriter</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileWriter</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">FileWriter</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileHelperType</span><span class="sf11b2">.</span><span class="sf3b2">Binary</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileWriter</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileWriter</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">FileWriter</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileHelperType</span><span class="sf11b2">.</span><span class="sf3b2">Binary</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing started"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing started"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">BinaryWriter</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">binary</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf3b2">m_binary</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">BinaryWriter</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">binary</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf3b2">m_binary</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d6" href="#d6">.</a></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">binary</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">Write</span><span style="color: #000000; background-color: #efcb05; ">(</span><span style="color: #000000; background-color: #efcb05; ">3</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">);</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; ">binary</span><span style="color: #000000; background-color: #efcb05; ">.</span><span style="color: #000000; background-color: #efcb05; ">Write</span><span style="color: #000000; background-color: #efcb05; ">(</span><span style="color: #000000; background-color: #efcb05; ">3</span><span class="sf17b16">4</span><span style="color: #000000; background-color: #efcb05; ">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">binary</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">binary</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">SaveAsync</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">SaveAsync</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SaveASync</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SaveASync</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandEventSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SaveAsync</span><span class="sf11b2">(</span><span class="sf3b2">bina<wbr>ry</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandEventSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SaveAsync</span><span class="sf11b2">(</span><span class="sf3b2">bina<wbr>ry</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing finishing"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing finishing"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf8b2">Finish</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf8b2">Finish</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing finished"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World save writing finished"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_needsDB</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_needsDB</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag4</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag4</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileWriter</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileWriter</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">SaveWorldMetaData</span><span class="sf11b2">(</span><span class="sf3b2">now</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag4</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">SaveWorldMetaData</span><span class="sf11b2">(</span><span class="sf3b2">now</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag4</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">&nbsp;&amp;&amp; (</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Cloud</span><span class="sf11b2">&nbsp;&amp;&amp; (</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__GetBackupPath</span><span class="sf11b2">|<wbr></span><span class="sf10b2">74_0</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHelpe<wbr>rs</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">), </span><span class="sf3b2">now</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__GetBackupPath</span><span class="sf11b2">|<wbr></span><span class="sf10b2">74_0</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHelpe<wbr>rs</span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">), </span><span class="sf3b2">now</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text4</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__GetBackupPath</span><span class="sf11b2">|<wbr></span><span class="sf10b2">74_0</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHelpers<wbr></span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">), </span><span class="sf3b2">now</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text4</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.&lt;</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__GetBackupPath</span><span class="sf11b2">|<wbr></span><span class="sf10b2">74_0</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">(</span><span class="sf3b2">FileHelpers<wbr></span><span class="sf11b2">.</span><span class="sf3b2">FileSource</span><span class="sf11b2">.</span><span class="sf3b2">Local</span><span class="sf11b2">), </span><span class="sf3b2">now</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileWriter2</span><span class="sf11b2">.</span><span class="sf8b2">DumpCloudWriteToLocalFile</span><span class="sf11b2">(</span><span class="sf3b2">t<wbr>ext3</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileWriter2</span><span class="sf11b2">.</span><span class="sf8b2">DumpCloudWriteToLocalFile</span><span class="sf11b2">(</span><span class="sf3b2">t<wbr>ext3</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf8b2">DumpCloudWriteToLocalFile</span><span class="sf11b2">(</span><span class="sf3b2">te<wbr>xt4</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf8b2">DumpCloudWriteToLocalFile</span><span class="sf11b2">(</span><span class="sf3b2">te<wbr>xt4</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">fileWriter2</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"Cloud save to location \""</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">() + </span><span class="sf12b2">"\" failed!\n"</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"Cloud save to location \""</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetMetaPath</span><span class="sf11b2">() + </span><span class="sf12b2">"\" failed!\n"</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">fileWriter</span><span class="sf11b2">.</span><span class="sf3b2">Status</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">FileWriter</span><span class="sf11b2">.</span><span class="sf3b2">WriterStatus</span><span class="sf11b2">.</span><span class="sf3b2">CloseFailed</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"Cloud save to location \""</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"\" failed!\n "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"Cloud save to location \""</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">dbpath3</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">"\" failed!\n "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[] { </span><span class="sf3b2">text5</span><span class="sf11b2">, </span><span class="sf12b2">"Saved world as local backup \""</span><span class="sf11b2">, </span><span class="sf3b2">text3</span><span class="sf11b2">, </span><span class="sf12b2">"\" and \""</span><span class="sf11b2">, </span><span class="sf3b2">text4</span><span class="sf11b2">, </span><span class="sf12b2">"\". Use the \"Manage saves\" menu to restore this backup."</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text5</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[] { </span><span class="sf3b2">text5</span><span class="sf11b2">, </span><span class="sf12b2">"Saved world as local backup \""</span><span class="sf11b2">, </span><span class="sf3b2">text3</span><span class="sf11b2">, </span><span class="sf12b2">"\" and \""</span><span class="sf11b2">, </span><span class="sf3b2">text4</span><span class="sf11b2">, </span><span class="sf12b2">"\". Use the \"Manage saves\" menu to restore this backup."</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf3b2">text5</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf3b2">text5</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">flag3</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">flag3</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">ReplaceOldFile</span><span class="sf11b2">(</span><span class="sf3b2">dbpath3</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">ReplaceOldFile</span><span class="sf11b2">(</span><span class="sf3b2">dbpath3</span><span class="sf11b2">, </span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">InvalidateCache</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World saved ( "</span><span class="sf11b2">&nbsp;+ (</span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">&nbsp;- </span><span class="sf3b2">dateTime</span><span class="sf11b2">).</span><span class="sf3b2">TotalMilliseconds</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">"ms )"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World saved ( "</span><span class="sf11b2">&nbsp;+ (</span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">&nbsp;- </span><span class="sf3b2">dateTime</span><span class="sf11b2">).</span><span class="sf3b2">TotalMilliseconds</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">"ms )"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">dateTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">dateTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ConsiderAutoBackup</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m<wbr>_fileName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">.</span><span class="sf3b2">World</span><span class="sf11b2">, </span><span class="sf3b2">now</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ConsiderAutoBackup</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m<wbr>_fileName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">.</span><span class="sf3b2">World</span><span class="sf11b2">, </span><span class="sf3b2">now</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World auto backup saved ( "</span><span class="sf11b2">&nbsp;+ (</span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">&nbsp;- </span><span class="sf3b2">dateTime</span><span class="sf11b2">).</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">"ms )"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"World auto backup saved ( "</span><span class="sf11b2">&nbsp;+ (</span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">Now</span><span class="sf11b2">&nbsp;- </span><span class="sf3b2">dateTime</span><span class="sf11b2">).</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">"ms )"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Error saving world! "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Error saving world! "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_threadSafeMessages</span><span class="sf11b2">.</span><span class="sf8b2">Enqueue</span><span class="sf11b2">(</span><span class="sf12b2">"<wbr>Error saving world! See log or console."</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_threadSafeMessages</span><span class="sf11b2">.</span><span class="sf8b2">Enqueue</span><span class="sf11b2">(</span><span class="sf12b2">"<wbr>Error saving world! See log or console."</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_threadSafeConsoleLog</span><span class="sf11b2">.</span><span class="sf8b2">Enqueue<wbr></span><span class="sf11b2">(</span><span class="sf12b2">"Error saving world! "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_threadSafeConsoleLog</span><span class="sf11b2">.</span><span class="sf8b2">Enqueue<wbr></span><span class="sf11b2">(</span><span class="sf12b2">"Error saving world! "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf3b2">Message</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ConsiderAutoBackup</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dataType</span><span class="sf11b2">, </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">now</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ConsiderAutoBackup</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">saveName</span><span class="sf11b2">, </span><span class="sf3b2">SaveDataType</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dataType</span><span class="sf11b2">, </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">now</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">1200</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">1200</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= ((</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">1</span><span class="sf11b2">) ? </span><span class="sf10b2">0</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;= ((</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">1</span><span class="sf11b2">) ? </span><span class="sf10b2">0</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">ConsiderBackup</span><span class="sf11b2">(</span><span class="sf3b2">saveName</span><span class="sf11b2">, </span><span class="sf3b2">dataType</span><span class="sf11b2">, </span><span class="sf3b2">now</span><span class="sf11b2">, </span><span class="sf3b2">num2</span><span class="sf11b2">, (</span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_testList</span><span class="sf11b2">.</span><span class="sf8b2">TryGetValue</span><span class="sf11b2">(</span><span class="sf12b2">"autos<wbr>hort"</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">) &amp;&amp; </span><span class="sf7b2">int</span><span class="sf11b2">.</span><span class="sf8b2">TryParse</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">)) ? </span><span class="sf3b2">num3</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">, (</span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_testList</span><span class="sf11b2">.</span><span class="sf8b2">TryGetValue</span><span class="sf11b2">(</span><span class="sf12b2">"autol<wbr>ong"</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">) &amp;&amp; </span><span class="sf7b2">int</span><span class="sf11b2">.</span><span class="sf8b2">TryParse</span><span class="sf11b2">(</span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">)) ? </span><span class="sf3b2">num4</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">, (</span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_testList</span><span class="sf11b2">.</span><span class="sf8b2">TryGetValue</span><span class="sf11b2">(</span><span class="sf12b2">"autow<wbr>ait"</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">) &amp;&amp; </span><span class="sf7b2">int</span><span class="sf11b2">.</span><span class="sf8b2">TryParse</span><span class="sf11b2">(</span><span class="sf3b2">text3</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">)) ? </span><span class="sf3b2">num5</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">&nbsp;? </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">TimeSinceStart</span><span class="sf11b2">() : </span><span class="sf10b2">0f</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">SaveSystem</span><span class="sf11b2">.</span><span class="sf8b2">ConsiderBackup</span><span class="sf11b2">(</span><span class="sf3b2">saveName</span><span class="sf11b2">, </span><span class="sf3b2">dataType</span><span class="sf11b2">, </span><span class="sf3b2">now</span><span class="sf11b2">, </span><span class="sf3b2">num2</span><span class="sf11b2">, (</span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_testList</span><span class="sf11b2">.</span><span class="sf8b2">TryGetValue</span><span class="sf11b2">(</span><span class="sf12b2">"autos<wbr>hort"</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">) &amp;&amp; </span><span class="sf7b2">int</span><span class="sf11b2">.</span><span class="sf8b2">TryParse</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">)) ? </span><span class="sf3b2">num3</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">, (</span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_testList</span><span class="sf11b2">.</span><span class="sf8b2">TryGetValue</span><span class="sf11b2">(</span><span class="sf12b2">"autol<wbr>ong"</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">) &amp;&amp; </span><span class="sf7b2">int</span><span class="sf11b2">.</span><span class="sf8b2">TryParse</span><span class="sf11b2">(</span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">)) ? </span><span class="sf3b2">num4</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">, (</span><span class="sf3b2">Terminal</span><span class="sf11b2">.</span><span class="sf3b2">m_testList</span><span class="sf11b2">.</span><span class="sf8b2">TryGetValue</span><span class="sf11b2">(</span><span class="sf12b2">"autow<wbr>ait"</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">) &amp;&amp; </span><span class="sf7b2">int</span><span class="sf11b2">.</span><span class="sf8b2">TryParse</span><span class="sf11b2">(</span><span class="sf3b2">text3</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">)) ? </span><span class="sf3b2">num5</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">&nbsp;? </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">TimeSinceStart</span><span class="sf11b2">() : </span><span class="sf10b2">0f</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LoadWorld</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">LoadWorld</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"Load world: "</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"Load world: "</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">" ("</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">" ("</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileName</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">")"</span>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">")"</span>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">dbpath</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf8b2">GetDBPath</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileReader</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileReader</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileReader</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">fileReader</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileReader</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">FileReader</span><span class="sf11b2">(</span><span class="sf3b2">dbpath</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">, </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileHelperType</span><span class="sf11b2">.</span><span class="sf3b2">Binary</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileReader</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">FileReader</span><span class="sf11b2">(</span><span class="sf3b2">dbpath</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_fileSource</span><span class="sf11b2">, </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf3b2">FileHelperType</span><span class="sf11b2">.</span><span class="sf3b2">Binary</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">" &nbsp;missing "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">dbpath</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">" &nbsp;missing "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">dbpath</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">BinaryReader</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">binary</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">fileReader</span><span class="sf11b2">.</span><span class="sf3b2">m_binary</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">BinaryReader</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">binary</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">fileReader</span><span class="sf11b2">.</span><span class="sf3b2">m_binary</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">CheckDataVersion</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">CheckDataVersion</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">" &nbsp;incompatible data version "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">" &nbsp;incompatible data version "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">num</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">binary</span><span class="sf11b2">.</span><span class="sf8b2">Close</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">binary</span><span class="sf11b2">.</span><span class="sf8b2">Close</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileReader</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileReader</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">4</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">4</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">binary</span><span class="sf11b2">.</span><span class="sf8b2">ReadDouble</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">binary</span><span class="sf11b2">.</span><span class="sf8b2">ReadDouble</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">12</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">12</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">15</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt;= </span><span class="sf10b2">15</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandEventSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandEventSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Load</span><span class="sf11b2">(</span><span class="sf3b2">binary</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileReader</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">fileReader</span><span class="sf11b2">.</span><span class="sf8b2">Dispose</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Exception while loading world "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">dbpath</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">LogError</span><span class="sf11b2">(</span><span class="sf12b2">"Exception while loading world "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">dbpath</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">CollectResources</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">CollectResources</span><span class="sf11b2">(</span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CheckDataVersion</span><span class="sf11b2">(</span><span class="sf3b2">BinaryReader</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">reader</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">version</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">CheckDataVersion</span><span class="sf11b2">(</span><span class="sf3b2">BinaryReader</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">reader</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">version</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">version</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">reader</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt32</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">version</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">reader</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt32</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf8b2">IsWorldVersionCompatibl<wbr>e</span><span class="sf11b2">(</span><span class="sf3b2">version</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf8b2">IsWorldVersionCompatibl<wbr>e</span><span class="sf11b2">(</span><span class="sf3b2">version</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">WorldSetup</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SetStartingGlobalKe<wbr>ys</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZoneSystem</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">SetStartingGlobalKe<wbr>ys</span><span class="sf11b2">(</span><span class="sf7b2">true</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_startingKeysChanged</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_startingKeysChanged</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetHostPort</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetHostPort</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostPort</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostPort</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetUID</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetUID</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOMan</span><span class="sf11b2">.</span><span class="sf8b2">GetSessionID</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOMan</span><span class="sf11b2">.</span><span class="sf8b2">GetSessionID</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWorldUID</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWorldUID</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_uid</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWorldName</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWorldName</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetCharacterID</span><span class="sf11b2">(</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">id</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetCharacterID</span><span class="sf11b2">(</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">id</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">id</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">id</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">[</span><span class="sf10b2">0</span><span class="sf11b2">].</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Character<wbr>ID"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">id</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">[</span><span class="sf10b2">0</span><span class="sf11b2">].</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Character<wbr>ID"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">id</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_CharacterID</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">characterID</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_CharacterID</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">characterID</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">characterID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">characterID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"Got character ZDOID from "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">"Got character ZDOID from "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">" : "</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">" : "</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zdoid</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">characterID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zdoid</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">characterID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">playerName</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">zdoid</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">playerName</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">text2</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">zdoid</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetPublicReferencePosition</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pub</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetPublicReferencePosition</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pub</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pub</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pub</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsReferencePositionPublic</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsReferencePositionPublic</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetReferencePosition</span><span class="sf11b2">(</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pos</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetReferencePosition</span><span class="sf11b2">(</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pos</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pos</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pos</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetReferencePosition</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetReferencePosition</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDO</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetAllCharacterZDOS</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDO</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetAllCharacterZDOS</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDO</span><span class="sf11b2">&gt; </span><span class="sf3b2">list</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDO</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDO</span><span class="sf11b2">&gt; </span><span class="sf3b2">list</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZDO</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDO</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zdo</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">GetZDO</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID<wbr></span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDO</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zdo</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">GetZDO</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID<wbr></span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">zdo</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">zdo</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">zdo</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">zdo</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">() &amp;&amp; !</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">.</span><span class="sf8b2">IsNone</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">() &amp;&amp; !</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">.</span><span class="sf8b2">IsNone</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDO</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zdo2</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">GetZDO</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_charact<wbr>erID</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDO</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zdo2</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">.</span><span class="sf8b2">GetZDO</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_charact<wbr>erID</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">zdo2</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">zdo2</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">zdo2</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">zdo2</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">list</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeerConnections</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetPeerConnections</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">[</span><span class="sf3b2">i</span><span class="sf11b2">].</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">[</span><span class="sf3b2">i</span><span class="sf11b2">].</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">++;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">++;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNat</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetZNat</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNat</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetZNat</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_nat</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_nat</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServer</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">server</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">openServer</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">publicServer</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverName</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">world</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServer</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">server</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">openServer</span><span class="sf11b2">, </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">publicServer</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverName</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">world</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">server</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">server</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">openServer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">openServer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">publicServer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">publicServer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;= (</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">) ? </span><span class="sf12b2">""</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">HashPassword</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;= (</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">IsNullOrEmpty</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">) ? </span><span class="sf12b2">""</span><span class="sf11b2">&nbsp;: </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">HashPassword</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">serverName</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">serverName</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">world</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">world</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">HashPassword</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">salt</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">HashPassword</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">password</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">salt</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">bytes</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Encoding</span><span class="sf11b2">.</span><span class="sf3b2">ASCII</span><span class="sf11b2">.</span><span class="sf8b2">GetBytes</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">salt</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">bytes</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Encoding</span><span class="sf11b2">.</span><span class="sf3b2">ASCII</span><span class="sf11b2">.</span><span class="sf8b2">GetBytes</span><span class="sf11b2">(</span><span class="sf3b2">password</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">salt</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">MD5CryptoServiceProvider</span><span class="sf11b2">().</span><span class="sf8b2">ComputeHash</span><span class="sf11b2">(<wbr></span><span class="sf3b2">bytes</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">MD5CryptoServiceProvider</span><span class="sf11b2">().</span><span class="sf8b2">ComputeHash</span><span class="sf11b2">(<wbr></span><span class="sf3b2">bytes</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Encoding</span><span class="sf11b2">.</span><span class="sf3b2">ASCII</span><span class="sf11b2">.</span><span class="sf8b2">GetString</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Encoding</span><span class="sf11b2">.</span><span class="sf3b2">ASCII</span><span class="sf11b2">.</span><span class="sf8b2">GetString</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0UL</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0UL</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">HasServerHost</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">HasServerHost</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;!= </span><span class="sf12b2">""</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0UL</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;!= </span><span class="sf12b2">""</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0UL</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServerHost</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServerHost</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">remotePlayerId</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServerHost</span><span class="sf11b2">(</span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverID</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServerHost</span><span class="sf11b2">(</span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverID</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">serverID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">serverID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServerHost</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">host</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">port</span><span class="sf11b2">, </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">backend</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetServerHost</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">host</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">port</span><span class="sf11b2">, </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">backend</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf8b2">ResetServerHost</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">host</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">host</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">port</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">port</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">backend</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">backend</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerString</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerString</span><span class="sf11b2">(</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;? </span><span class="sf12b2">"playfab/"</span><span class="sf11b2">&nbsp;: </span><span class="sf12b2">""</span><span class="sf11b2">) + </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;? </span><span class="sf12b2">"playfab/"</span><span class="sf11b2">&nbsp;: </span><span class="sf12b2">""</span><span class="sf11b2">) + </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;? </span><span class="sf12b2">"steam/"</span><span class="sf11b2">&nbsp;: </span><span class="sf12b2">""</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;? </span><span class="sf12b2">"steam/"</span><span class="sf11b2">&nbsp;: </span><span class="sf12b2">""</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"/"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"/"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">":"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">":"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;? </span><span class="sf12b2">"socket/"</span><span class="sf11b2">&nbsp;: </span><span class="sf12b2">""</span><span class="sf11b2">) + </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">includeBackend</span><span class="sf11b2">&nbsp;? </span><span class="sf12b2">"socket/"</span><span class="sf11b2">&nbsp;: </span><span class="sf12b2">""</span><span class="sf11b2">) + </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">":"</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsServer</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsServer</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsOpenServer</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsOpenServer</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsDedicated</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsDedicated</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">IsSinglePlayer</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">IsSinglePlayer</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;&amp;&amp; !</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_openServer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdatePlayerList</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">UpdatePlayerList</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SystemInfo</span><span class="sf11b2">.</span><span class="sf3b2">graphicsDeviceType</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">GraphicsDeviceType</span><span class="sf11b2">.</span><span class="sf3b2">Null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">SystemInfo</span><span class="sf11b2">.</span><span class="sf3b2">graphicsDeviceType</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">GraphicsDeviceType</span><span class="sf11b2">.</span><span class="sf3b2">Null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">default</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">default</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetPlayerProfile</span><span class="sf11b2">().</span><span class="sf8b2">GetNam<wbr>e</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Game</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">GetPlayerProfile</span><span class="sf11b2">().</span><span class="sf8b2">GetNam<wbr>e</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">PlayFab</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetNetworkUserId</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetNetworkUserId</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo2</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo2</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">(),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">(),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_publicRefPos</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_publicRefPos</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo2</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo2</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo2</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_refPos</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo2</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_refPos</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo2</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo2</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendPlayerList</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdatePlayerList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">UpdatePlayerList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_name</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_host</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_host</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID<wbr></span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID<wbr></span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosit<wbr>ion</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosit<wbr>ion</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"PlayerList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"PlayerList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;&gt; </span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerListUpdated</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;&gt; </span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerListUpdated</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">playerListUpdated</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">playerListUpdated</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendAdminList</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SendAdminList</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ZPackage</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">.</span><span class="sf8b2">Count</span><span class="sf11b2">()<wbr>);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">.</span><span class="sf8b2">Count</span><span class="sf11b2">()<wbr>);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">zpackage</span><span class="sf11b2">.</span><span class="sf8b2">Write</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"AdminList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"AdminList"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">zpackage</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_AdminList</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pkg</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_AdminList</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pkg</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">num</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">num</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_PlayerList</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pkg</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_PlayerList</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">ZPackage</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">pkg</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Clear</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadInt</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">num</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">num</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">(),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_name</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">(),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">(),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_host</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadString</span><span class="sf11b2">(),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadZDOID</span><span class="sf11b2">(),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadZDOID</span><span class="sf11b2">(),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadBool</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadBool</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadVector3</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_position</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">pkg</span><span class="sf11b2">.</span><span class="sf8b2">ReadVector3</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;&gt; </span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerListUpdated</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;&gt; </span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerListUpdated</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerListUpdated</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">playerListUpdated</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf8b2">playerListUpdated</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetPlayerList</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetPlayerList</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetAdminList</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetAdminList</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">LocalPlayerCharacterID</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">LocalPlayerCharacterID</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetOtherPublicPlayers</span><span class="sf11b2">(</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerI<wbr>nfo</span><span class="sf11b2">&gt; </span><span class="sf3b2">playerList</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetOtherPublicPlayers</span><span class="sf11b2">(</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerI<wbr>nfo</span><span class="sf11b2">&gt; </span><span class="sf3b2">playerList</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerInfo</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">characterID</span><span class="sf11b2">.</span><span class="sf8b2">IsNone</span><span class="sf11b2">() &amp;&amp; !(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">characterID</span><span class="sf11b2">.</span><span class="sf8b2">IsNone</span><span class="sf11b2">() &amp;&amp; !(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_characterID</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerList</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">playerList</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">playerInfo</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetNrOfPlayers</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetNrOfPlayers</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_players</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetNetStats</span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">localQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remoteQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ping</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">outByteSec</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">inByteSec</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetNetStats</span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">localQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remoteQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ping</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">outByteSec</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">inByteSec</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">localQuality</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">localQuality</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">remoteQuality</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">remoteQuality</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ping</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ping</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">outByteSec</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">outByteSec</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">inByteSec</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">inByteSec</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">++;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">num</span><span class="sf11b2">++;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num6</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num6</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetConnectionQuality</span><span class="sf11b2">(<wbr></span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num6</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetConnectionQuality</span><span class="sf11b2">(<wbr></span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num3</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num4</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num5</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num6</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">localQuality</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">localQuality</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">remoteQuality</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">remoteQuality</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num3</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ping</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num4</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ping</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num4</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">outByteSec</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num5</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">outByteSec</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num5</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">inByteSec</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num6</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">inByteSec</span><span class="sf11b2">&nbsp;+= </span><span class="sf3b2">num6</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;&gt; </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">localQuality</span><span class="sf11b2">&nbsp;/= (</span><span class="sf7b2">float</span><span class="sf11b2">)</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">localQuality</span><span class="sf11b2">&nbsp;/= (</span><span class="sf7b2">float</span><span class="sf11b2">)</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">remoteQuality</span><span class="sf11b2">&nbsp;/= (</span><span class="sf7b2">float</span><span class="sf11b2">)</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">remoteQuality</span><span class="sf11b2">&nbsp;/= (</span><span class="sf7b2">float</span><span class="sf11b2">)</span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ping</span><span class="sf11b2">&nbsp;/= </span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ping</span><span class="sf11b2">&nbsp;/= </span><span class="sf3b2">num</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer2</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer2</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer2</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer2</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer2</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetConnectionQuality<wbr></span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">localQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remoteQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ping</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">outByteSec</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">inByteSec</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer2</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetConnectionQuality<wbr></span><span class="sf11b2">(</span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">localQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">remoteQuality</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ping</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">outByteSec</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">inByteSec</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetNetTime</span><span class="sf11b2">(</span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">time</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetNetTime</span><span class="sf11b2">(</span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">time</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">time</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">time</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetTime</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetTime</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= (</span><span class="sf7b2">long</span><span class="sf11b2">)(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;* </span><span class="sf10b2">1000.0</span><span class="sf11b2">&nbsp;* </span><span class="sf10b2">10000.0</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">long</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">num</span><span class="sf11b2">&nbsp;= (</span><span class="sf7b2">long</span><span class="sf11b2">)(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;* </span><span class="sf10b2">1000.0</span><span class="sf11b2">&nbsp;* </span><span class="sf10b2">10000.0</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">DateTime</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">DateTime</span><span class="sf11b2">(</span><span class="sf3b2">num</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWrappedDayTimeSeconds</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetWrappedDayTimeSeconds</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">float</span><span class="sf11b2">)(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;% </span><span class="sf10b2">86400.0</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">float</span><span class="sf11b2">)(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;% </span><span class="sf10b2">86400.0</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetTimeSeconds</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetTimeSeconds</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_netTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetConnectionStatus</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetConnectionStatus</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;&amp;&amp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_instance</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;!= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">HasBadConnection</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">HasBadConnection</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerPing</span><span class="sf11b2">() &gt; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_badConnectionPing</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerPing</span><span class="sf11b2">() &gt; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_badConnectionPing</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerPing</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerPing</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetTimeSinceLastPing</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetTimeSinceLastPing</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf10b2">0f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerPeer</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerPeer</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connecting</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">Connected</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">foreach</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">in</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">.</span><span class="sf8b2">IsReady</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerPeer</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerPeer</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverPeer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverPeer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverPeer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetPeers</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt; </span><span class="sf8b2">GetPeers</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_peers</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">rpc</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">rpc</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Print</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Print</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"RemotePrint"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"RemotePrint"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Print</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">Print</span><span class="sf11b2">(</span><span class="sf3b2">text</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Kick</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Kick</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Kick"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Kick"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Kick</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Kick</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Kicking user "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Kicking user "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Kicked</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Kicked</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeer</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;|| !</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_server</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;|| !</span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_server</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorKicked</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">ErrorKicked</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">Disconnect</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;== </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;== </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;== </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">StartsWith</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPl<wbr>atformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.<wbr></span><span class="sf3b2">Steam</span><span class="sf11b2">)))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">StartsWith</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPl<wbr>atformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.<wbr></span><span class="sf3b2">Steam</span><span class="sf11b2">)))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">Substring</span><span class="sf11b2">(</span><span class="sf3b2">P<wbr>rivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlatformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">Privi<wbr>legeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Steam</span><span class="sf11b2">).</span><span class="sf3b2">Length</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">Substring</span><span class="sf11b2">(</span><span class="sf3b2">P<wbr>rivilegeManager</span><span class="sf11b2">.</span><span class="sf8b2">GetPlatformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">Privi<wbr>legeManager</span><span class="sf11b2">.</span><span class="sf3b2">Platform</span><span class="sf11b2">.</span><span class="sf3b2">Steam</span><span class="sf11b2">).</span><span class="sf3b2">Length</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf12b2">"_"</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf12b2">"_"</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf12b2">"_"</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf3b2">user</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf12b2">"_"</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager<wbr></span><span class="sf11b2">.</span><span class="sf8b2">GetPlatformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Pla<wbr>tform</span><span class="sf11b2">.</span><span class="sf3b2">Steam</span><span class="sf11b2">) + </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager<wbr></span><span class="sf11b2">.</span><span class="sf8b2">GetPlatformPrefix</span><span class="sf11b2">(</span><span class="sf3b2">PrivilegeManager</span><span class="sf11b2">.</span><span class="sf3b2">Pla<wbr>tform</span><span class="sf11b2">.</span><span class="sf3b2">Steam</span><span class="sf11b2">) + </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByHostName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByPlayerName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByPlayerName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">znetPeer</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalKick</span><span class="sf11b2">(</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peer</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">() || </span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf8b2">Contain<wbr>sKey</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">() || </span><span class="sf3b2">peer</span><span class="sf11b2">&nbsp;== </span><span class="sf7b2">null</span><span class="sf11b2">&nbsp;|| </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">.</span><span class="sf8b2">Contain<wbr>sKey</span><span class="sf11b2">(</span><span class="sf3b2">peer</span><span class="sf11b2">))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Kicking "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Kicking "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_playerName</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Kicked"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">peer</span><span class="sf11b2">.</span><span class="sf3b2">m_rpc</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Kicked"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">[</span><span class="sf3b2">peer</span><span class="sf11b2">] = </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">time</span><span class="sf11b2">&nbsp;+ </span><span class="sf10b2">1f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">[</span><span class="sf3b2">peer</span><span class="sf11b2">] = </span><span class="sf3b2">Time</span><span class="sf11b2">.</span><span class="sf3b2">time</span><span class="sf11b2">&nbsp;+ </span><span class="sf10b2">1f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsAllowed</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerName</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsAllowed</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">playerName</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">hostName</span><span class="sf11b2">) &amp;&amp; !</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">playerName</span><span class="sf11b2">)<wbr> &amp;&amp; (</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">.</span><span class="sf8b2">Count</span><span class="sf11b2">() &lt;= </span><span class="sf10b2">0</span><span class="sf11b2">&nbsp;|| </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedLis<wbr>t</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">hostName</span><span class="sf11b2">) &amp;&amp; !</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">Contains</span><span class="sf11b2">(</span><span class="sf3b2">playerName</span><span class="sf11b2">)<wbr> &amp;&amp; (</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">.</span><span class="sf8b2">Count</span><span class="sf11b2">() &lt;= </span><span class="sf10b2">0</span><span class="sf11b2">&nbsp;|| </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedLis<wbr>t</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Ban</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Ban</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalBan</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalBan</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Ban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Ban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Ban</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Ban</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalBan</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalBan</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalBan</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalBan</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;== </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;== </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peerByPlayerName</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByPlayerName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">peerByPlayerName</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetPeerByPlayerName</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peerByPlayerName</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">peerByPlayerName</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peerByPlayerName</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()<wbr>;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">peerByPlayerName</span><span class="sf11b2">.</span><span class="sf3b2">m_socket</span><span class="sf11b2">.</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()<wbr>;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Banning user "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Banning user "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">Add</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Unban</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">Unban</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalUnban</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalUnban</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Unban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"Unban"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Unban</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_Unban</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalUnban</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalUnban</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalUnban</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalUnban</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">user</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;== </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">user</span><span class="sf11b2">&nbsp;== </span><span class="sf12b2">""</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Unbanning user "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Unbanning user "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">Remove</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">Remove</span><span class="sf11b2">(</span><span class="sf3b2">user</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsAdmin</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">IsAdmin</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">hostName</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">, </span><span class="sf3b2">hostName</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">Banned</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">Banned</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">PrintBanned</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">PrintBanned</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalPrintBanned</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalPrintBanned</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"PrintBanned"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"PrintBanned"</span><span class="sf11b2">, </span><span class="sf3b2">Array</span><span class="sf11b2">.</span><span class="sf3b2">Empty</span><span class="sf11b2">&lt;</span><span class="sf7b2">object</span><span class="sf11b2">&gt;());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_PrintBanned</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_PrintBanned</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalPrintBanned</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalPrintBanned</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalPrintBanned</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalPrintBanned</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Banned users"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Banned users"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">list</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">list</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"-"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"-"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">else</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">list</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">; </span><span class="sf3b2">i</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">i</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">": "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">list</span><span class="sf11b2">[</span><span class="sf3b2">i</span><span class="sf11b2">]);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">i</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">": "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">list</span><span class="sf11b2">[</span><span class="sf3b2">i</span><span class="sf11b2">]);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">""</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">""</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Permitted users"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"Permitted users"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">list2</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">list2</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">.</span><span class="sf8b2">GetList</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">list2</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">list2</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"All"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"All"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">j</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">j</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">list2</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">; </span><span class="sf3b2">j</span><span class="sf11b2">++)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">for</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">j</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">; </span><span class="sf3b2">j</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">list2</span><span class="sf11b2">.</span><span class="sf3b2">Count</span><span class="sf11b2">; </span><span class="sf3b2">j</span><span class="sf11b2">++)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">j</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">": "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">list2</span><span class="sf11b2">[</span><span class="sf3b2">j</span><span class="sf11b2">]);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">j</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">() + </span><span class="sf12b2">": "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">list2</span><span class="sf11b2">[</span><span class="sf3b2">j</span><span class="sf11b2">]);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RemoteCommand</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">command</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RemoteCommand</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">command</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">IsServer</span><span class="sf11b2">())</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalCommand</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">, </span><span class="sf3b2">command</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalCommand</span><span class="sf11b2">(</span><span class="sf7b2">null</span><span class="sf11b2">, </span><span class="sf3b2">command</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">GetServerRPC</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">serverRPC</span><span class="sf11b2">&nbsp;!= </span><span class="sf7b2">null</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"RPC_RemoteCommand"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">command</span><span class="sf11b2">&nbsp;});</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">serverRPC</span><span class="sf11b2">.</span><span class="sf8b2">Invoke</span><span class="sf11b2">(</span><span class="sf12b2">"RPC_RemoteCommand"</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">object</span><span class="sf11b2">[] { </span><span class="sf3b2">command</span><span class="sf11b2">&nbsp;});</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_RemoteCommand</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">command</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">RPC_RemoteCommand</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">command</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(!</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">ListContainsId</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_adminList</span><span class="sf11b2">,<wbr> </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">()))</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">RemotePrint</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf12b2">"You are not admin"</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalCommand</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">command</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf8b2">InternalCommand</span><span class="sf11b2">(</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf3b2">command</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalCommand</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">command</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">InternalCommand</span><span class="sf11b2">(</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">rpc</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">command</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"Remote admin '"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"Remote admin '"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">(),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">rpc</span><span class="sf11b2">.</span><span class="sf8b2">GetSocket</span><span class="sf11b2">().</span><span class="sf8b2">GetHostName</span><span class="sf11b2">(),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"' executed command '"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"' executed command '"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">command</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">command</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"' remotely."</span>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"' remotely."</span>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">TryRunCommand</span><span class="sf11b2">(<wbr></span><span class="sf3b2">command</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Console</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">TryRunCommand</span><span class="sf11b2">(<wbr></span><span class="sf3b2">command</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">, </span><span class="sf7b2">false</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">ServerPasswordSalt</span><span class="sf11b2">()</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">.</span><span class="sf3b2">Length</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">if</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">.</span><span class="sf3b2">Length</span><span class="sf11b2">&nbsp;== </span><span class="sf10b2">0</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">byte</span><span class="sf11b2">[</span><span class="sf10b2">16</span><span class="sf11b2">];</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">byte</span><span class="sf11b2">[] </span><span class="sf3b2">array</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">byte</span><span class="sf11b2">[</span><span class="sf10b2">16</span><span class="sf11b2">];</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandomNumberGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Create</span><span class="sf11b2">().</span><span class="sf8b2">GetBytes<wbr></span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">RandomNumberGenerator</span><span class="sf11b2">.</span><span class="sf8b2">Create</span><span class="sf11b2">().</span><span class="sf8b2">GetBytes<wbr></span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Encoding</span><span class="sf11b2">.</span><span class="sf3b2">ASCII</span><span class="sf11b2">.</span><span class="sf8b2">GetString</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Encoding</span><span class="sf11b2">.</span><span class="sf3b2">ASCII</span><span class="sf11b2">.</span><span class="sf8b2">GetString</span><span class="sf11b2">(</span><span class="sf3b2">array</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetExternalError</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">error</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">SetExternalError</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">error</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">error</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">error</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">HaveStopped</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">HaveStopped</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">get</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">event</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;&gt; </span><span class="sf3b2">PlayerListUpdated</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">event</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&lt;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;&gt; </span><span class="sf3b2">PlayerListUpdated</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">internal</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">GetPublicIP</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DownloadString</span><span class="sf11b2">|</span><span class="sf10b2">10_0</span><span class="sf11b2">(</span><span class="sf7b2">str<wbr>ing</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">downloadUrl</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">timeoutMS</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">5000</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">internal</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">GetPublicIP</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DownloadString</span><span class="sf11b2">|</span><span class="sf10b2">10_0</span><span class="sf11b2">(</span><span class="sf7b2">str<wbr>ing</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">downloadUrl</span><span class="sf11b2">, </span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">timeoutMS</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">5000</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">HttpWebRequest</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">httpWebRequest</span><span class="sf11b2">&nbsp;= (</span><span class="sf3b2">HttpWebRequest</span><span class="sf11b2">)</span><span class="sf3b2">WebRequest</span><span class="sf11b2">.</span><span class="sf8b2">Create</span><span class="sf11b2">(</span><span class="sf3b2">downl<wbr>oadUrl</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">HttpWebRequest</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">httpWebRequest</span><span class="sf11b2">&nbsp;= (</span><span class="sf3b2">HttpWebRequest</span><span class="sf11b2">)</span><span class="sf3b2">WebRequest</span><span class="sf11b2">.</span><span class="sf8b2">Create</span><span class="sf11b2">(</span><span class="sf3b2">downl<wbr>oadUrl</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">httpWebRequest</span><span class="sf11b2">.</span><span class="sf3b2">Timeout</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">timeoutMS</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">httpWebRequest</span><span class="sf11b2">.</span><span class="sf3b2">Timeout</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">timeoutMS</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">httpWebRequest</span><span class="sf11b2">.</span><span class="sf3b2">ReadWriteTimeout</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">timeoutMS</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">httpWebRequest</span><span class="sf11b2">.</span><span class="sf3b2">ReadWriteTimeout</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">timeoutMS</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">try</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">StreamReader</span><span class="sf11b2">(((</span><span class="sf3b2">HttpWebResponse</span><span class="sf11b2">)</span><span class="sf3b2">httpWebR<wbr>equest</span><span class="sf11b2">.</span><span class="sf8b2">GetResponse</span><span class="sf11b2">()).</span><span class="sf8b2">GetResponseStream<wbr></span><span class="sf11b2">()).</span><span class="sf8b2">ReadToEnd</span><span class="sf11b2">();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf8b2">StreamReader</span><span class="sf11b2">(((</span><span class="sf3b2">HttpWebResponse</span><span class="sf11b2">)</span><span class="sf3b2">httpWebR<wbr>equest</span><span class="sf11b2">.</span><span class="sf8b2">GetResponse</span><span class="sf11b2">()).</span><span class="sf8b2">GetResponseStream<wbr></span><span class="sf11b2">()).</span><span class="sf8b2">ReadToEnd</span><span class="sf11b2">();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">catch</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">Exception</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ex</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Exception while waiting for respons from "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">downloadUrl</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" -&gt; "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf12b2">"Exception while waiting for respons from "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">downloadUrl</span><span class="sf11b2">&nbsp;+ </span><span class="sf12b2">" -&gt; "</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">ex</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">());</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__RetryRegist<wbr>erAfterDelay</span><span class="sf11b2">|</span><span class="sf10b2">11_0</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">delay</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">void</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__RetryRegist<wbr>erAfterDelay</span><span class="sf11b2">|</span><span class="sf10b2">11_0</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">delay</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf8b2">StartCoroutine</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.&lt;</span><span class="sf3b2">OnSteamServer<wbr>Registered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DelayThenRegisterCoroutin<wbr>e</span><span class="sf11b2">|</span><span class="sf10b2">11_1</span><span class="sf11b2">(</span><span class="sf3b2">delay</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">base</span><span class="sf11b2">.</span><span class="sf8b2">StartCoroutine</span><span class="sf11b2">(</span><span class="sf7b2">this</span><span class="sf11b2">.&lt;</span><span class="sf3b2">OnSteamServer<wbr>Registered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DelayThenRegisterCoroutin<wbr>e</span><span class="sf11b2">|</span><span class="sf10b2">11_1</span><span class="sf11b2">(</span><span class="sf3b2">delay</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">IEnumerator</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DelayThenRe<wbr>gisterCoroutine</span><span class="sf11b2">|</span><span class="sf10b2">11_1</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">delay</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">IEnumerator</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__DelayThenRe<wbr>gisterCoroutine</span><span class="sf11b2">|</span><span class="sf10b2">11_1</span><span class="sf11b2">(</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">delay</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Steam register server failed! Retrying in {0}s, total attempts: {1}"</span><span class="sf11b2">, </span><span class="sf3b2">delay</span><span class="sf11b2">, </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZLog</span><span class="sf11b2">.</span><span class="sf8b2">Log</span><span class="sf11b2">(</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Format</span><span class="sf11b2">(</span><span class="sf12b2">"Steam register server failed! Retrying in {0}s, total attempts: {1}"</span><span class="sf11b2">, </span><span class="sf3b2">delay</span><span class="sf11b2">, </span><span class="sf7b2">this</span><span class="sf11b2">.</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">NextRetryUtc</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">UtcNow</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">TimeSpan</span><span class="sf11b2">.</span><span class="sf8b2">FromSeconds</span><span class="sf11b2">((</span><span class="sf7b2">double</span><span class="sf11b2">)</span><span class="sf3b2">delay</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">NextRetryUtc</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">UtcNow</span><span class="sf11b2">&nbsp;+ </span><span class="sf3b2">TimeSpan</span><span class="sf11b2">.</span><span class="sf8b2">FromSeconds</span><span class="sf11b2">((</span><span class="sf7b2">double</span><span class="sf11b2">)</span><span class="sf3b2">delay</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">while</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">UtcNow</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">NextRetryUtc</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">while</span><span class="sf11b2">&nbsp;(</span><span class="sf3b2">DateTime</span><span class="sf11b2">.</span><span class="sf3b2">UtcNow</span><span class="sf11b2">&nbsp;&lt; </span><span class="sf3b2">NextRetryUtc</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">yield</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">yield</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;!= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">flag</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;!= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">currentVersion</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentVersion</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">GameVersion</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">currentVersion</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">global</span><span class="sf11b2">::</span><span class="sf3b2">Version</span><span class="sf11b2">.</span><span class="sf3b2">CurrentVersion</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"><a id="d7" href="#d7">.</a></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; font-weight: bold; ">uint</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;</span><span style="color: #000000; background-color: #efcb05; ">num</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;= </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">3</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">;</span></code></td>
<td class="ln"></td><td style="color: #000000; background-color: #efcb05; "><code><span style="color: #000000; background-color: #efcb05; ">&nbsp; &nbsp; &nbsp; &nbsp; </span><span style="color: #000000; background-color: #efcb05; font-weight: bold; ">uint</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;</span><span style="color: #000000; background-color: #efcb05; ">num</span><span style="color: #000000; background-color: #efcb05; ">&nbsp;= </span><span style="color: #000000; background-color: #efcb05; ">2</span><span class="sf17b16">7</span><span style="color: #000000; background-color: #efcb05; ">U</span><span style="color: #000000; background-color: #efcb05; ">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_startingGlobalKeys</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_startingGlobalKeys</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RegisterServ<wbr>er</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">, </span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf3b2">currentVersion</span><span class="sf11b2">, </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">ServerRegistered</span><span class="sf11b2">(</span><span class="sf7b2">this<wbr></span><span class="sf11b2">.</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">));</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf3b2">instance</span><span class="sf11b2">.</span><span class="sf8b2">RegisterServ<wbr>er</span><span class="sf11b2">(</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">, </span><span class="sf3b2">flag</span><span class="sf11b2">, </span><span class="sf3b2">currentVersion</span><span class="sf11b2">, </span><span class="sf3b2">startingGlobalKeys</span><span class="sf11b2">, </span><span class="sf3b2">num</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">, </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">m_world</span><span class="sf11b2">.</span><span class="sf3b2">m_seedName</span><span class="sf11b2">, </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZSteamMatchmaking</span><span class="sf11b2">.</span><span class="sf8b2">ServerRegistered</span><span class="sf11b2">(</span><span class="sf7b2">this<wbr></span><span class="sf11b2">.</span><span class="sf3b2">OnSteamServerRegistered</span><span class="sf11b2">));</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">yield</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">yield</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">break</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; [</span><span class="sf3b2">CompilerGenerated</span><span class="sf11b2">]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">internal</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__GetBackupPath</span><span class="sf11b2">|</span><span class="sf10b2">74_0</span><span class="sf11b2">(<wbr></span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">filePath</span><span class="sf11b2">, </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">now</span><span class="sf11b2">)</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">internal</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;&lt;</span><span class="sf3b2">SaveWorldThread</span><span class="sf11b2">&gt;</span><span class="sf3b2">g__GetBackupPath</span><span class="sf11b2">|</span><span class="sf10b2">74_0</span><span class="sf11b2">(<wbr></span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">filePath</span><span class="sf11b2">, </span><span class="sf3b2">DateTime</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">now</span><span class="sf11b2">)</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">SplitFilePath</span><span class="sf11b2">(</span><span class="sf3b2">filePath</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">);</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">FileHelpers</span><span class="sf11b2">.</span><span class="sf8b2">SplitFilePath</span><span class="sf11b2">(</span><span class="sf3b2">filePath</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text2</span><span class="sf11b2">, </span><span class="sf7b2">out</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">text3</span><span class="sf11b2">);</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">return</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">.</span><span class="sf8b2">Concat</span><span class="sf11b2">(</span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">[]</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text2</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text2</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"_backup_cloud-"</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf12b2">"_backup_cloud-"</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">now</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"yyyyMMdd-HHmmss"</span><span class="sf11b2">),</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">now</span><span class="sf11b2">.</span><span class="sf8b2">ToString</span><span class="sf11b2">(</span><span class="sf12b2">"yyyyMMdd-HHmmss"</span><span class="sf11b2">),</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text3</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">text3</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; });</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">WorldSaveStarted</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">WorldSaveStarted</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">WorldSaveFinished</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Action</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">WorldSaveFinished</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_banlistTimer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_instance</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_instance</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">const</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ServerPlayerLimit</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">10</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">const</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ServerPlayerLimit</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">10</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_hostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">2456</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_hostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">2456</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">RectTransform</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">RectTransform</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_passwordDialog</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">RectTransform</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">RectTransform</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_connectingDialog</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_badConnectionPing</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">5f</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_badConnectionPing</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">5f</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_zdoSectorsWidth</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">512</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_zdoSectorsWidth</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">512</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZConnector2</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZConnector2</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverConnector</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ISocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ISocket</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_hostSocket</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_peers</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_peers</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Thread</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Thread</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveThread</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveExceededCloudQuota</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveStartTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveStartTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_saveThreadStartTime</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_loadError</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">false</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_sendSaveMessage</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOMan</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOMan</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_zdoMan</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRoutedRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRoutedRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_routedRpc</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNat</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_nat</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNat</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_nat</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">2040.0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">double</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_netTime</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">2040.0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZDOID</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_characterID</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZDOID</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Vector3</span><span class="sf11b2">.</span><span class="sf3b2">zero</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_referencePosition</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">Vector3</span><span class="sf11b2">.</span><span class="sf3b2">zero</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_publicReferencePosition</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">float</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_periodicSendTimer</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_serverSyncedPlayerData</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">, </span><span class="sf7b2">string</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">2</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_backupCount</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">2</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">7200</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_backupShort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">7200</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">43200</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_backupLong</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">43200</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_haveStoped</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_isServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">World</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_world</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_registerAttempts</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_onlineBackend</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">OnlineBackendType</span><span class="sf11b2">.</span><span class="sf3b2">Steamworks</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverPlayFabPlayerId</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">null</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0UL</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">ulong</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverSteamID</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0UL</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverHost</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">int</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverHostPort</span><span class="sf11b2">&nbsp;= </span><span class="sf10b2">0</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_openServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_openServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_publicServer</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">true</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverPassword</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_serverPasswordSalt</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_ServerName</span><span class="sf11b2">&nbsp;= </span><span class="sf12b2">""</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_connectionStatus</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_externalError</span><span class="sf11b2">&nbsp;= </span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">ConnectionStatus</span><span class="sf11b2">.</span><span class="sf3b2">None</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_adminList</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_adminList</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_bannedList</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">SyncedList</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_permittedList</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_players</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_players</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNet</span><span class="sf11b2">.</span><span class="sf3b2">PlayerInfo</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt; </span><span class="sf3b2">m_adminListForRpc</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">List</span><span class="sf11b2">&lt;</span><span class="sf7b2">string</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZRpc</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_tempPasswordRPC</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">readonly</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">, </span><span class="sf7b2">float</span><span class="sf11b2">&gt; </span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">, </span><span class="sf7b2">float</span><span class="sf11b2">&gt;();</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">private</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">static</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">readonly</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">, </span><span class="sf7b2">float</span><span class="sf11b2">&gt; </span><span class="sf3b2">PeersToDisconnectAfterKick</span><span class="sf11b2">&nbsp;= </span><span class="sf7b2">new</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Dictionary</span><span class="sf11b2">&lt;</span><span class="sf3b2">ZNetPeer</span><span class="sf11b2">, </span><span class="sf7b2">float</span><span class="sf11b2">&gt;();</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">enum</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ConnectionStatus</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">enum</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ConnectionStatus</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">None</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">None</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Connecting</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Connecting</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Connected</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">Connected</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorVersion</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorVersion</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorDisconnected</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorDisconnected</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorConnectFailed</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorConnectFailed</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorPassword</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorPassword</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorAlreadyConnected</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorAlreadyConnected</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorBanned</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorBanned</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorFull</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorFull</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorPlatformExcluded</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorPlatformExcluded</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorCrossplayPrivilege</span><span class="sf11b2">,</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorCrossplayPrivilege</span><span class="sf11b2">,</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorKicked</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf3b2">ErrorKicked</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">struct</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">PlayerInfo</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">struct</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">PlayerInfo</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; {</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_name</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_name</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_host</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">string</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_host</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">ZDOID</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_characterID</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf7b2">bool</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_publicPosition</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_position</span><span class="sf11b2">;</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="sf7b2">public</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">Vector3</span><span class="sf11b2">&nbsp;</span><span class="sf3b2">m_position</span><span class="sf11b2">;</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">&nbsp; &nbsp; }</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">}</span></code></td>
<td class="ln"></td><td class="sf3b2"><code><span class="sf11b2">}</span></code></td>
</tr>
<tr>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
<td class="ln"></td><td class="sf3b2"><code>&nbsp;</code></td>
</tr>
</tbody>
</table>
</body>
</html>
